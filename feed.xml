<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://fabricmc.net/feed.xml" rel="self" type="application/atom+xml" /><link href="https://fabricmc.net/" rel="alternate" type="text/html" /><updated>2023-09-30T14:51:49+00:00</updated><id>https://fabricmc.net/feed.xml</id><title type="html">Fabric</title><subtitle>The home of the Fabric mod development toolchain.</subtitle><entry><title type="html">Fabric for Minecraft 1.20.2</title><link href="https://fabricmc.net/2023/09/12/1202.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.20.2" /><published>2023-09-12T00:00:00+00:00</published><updated>2023-09-12T00:00:00+00:00</updated><id>https://fabricmc.net/2023/09/12/1202</id><content type="html" xml:base="https://fabricmc.net/2023/09/12/1202.html">&lt;p&gt;Minecraft 1.20.2 will be released in the near future, again with some changes that impact many mods.&lt;/p&gt;

&lt;p&gt;As usual, we ask players to be patient, and give mod developers time to update to this new version.&lt;/p&gt;

&lt;p&gt;Here is a list of all major modder-facing changes in this version. Note that all code references are using Yarn mappings; modders using alternative mappings may need to use different names.&lt;/p&gt;

&lt;h2 id=&quot;fabric-changes&quot;&gt;Fabric changes&lt;/h2&gt;
&lt;p&gt;Developers should use Loom 1.3 (at the time of writing) to develop mods for Minecraft 1.20.2. Players should install the latest stable version of Fabric Loader (currently 0.14.22) to play 1.20.2.&lt;/p&gt;

&lt;h3 id=&quot;loom-13&quot;&gt;Loom 1.3&lt;/h3&gt;
&lt;p&gt;Loom 1.3 includes fixes to debugging, Kotlin 1.9.0 support, reproducable builds by default and many other smaller fixes and improvements.&lt;/p&gt;

&lt;h3 id=&quot;new-fabric-api-changes&quot;&gt;New Fabric API changes&lt;/h3&gt;
&lt;p&gt;With the help of many contributors, Fabric API has received several new features since the last update blog post:&lt;/p&gt;

&lt;!-- yeah, sort it (alphabetical of module name) --&gt;

&lt;ul&gt;
  &lt;li&gt;Client Tags: add support for partially synced client tags. (dexman545)&lt;/li&gt;
  &lt;li&gt;Particles v1: add event for preventing particle tinting for colored blocks. (Juxxel)&lt;/li&gt;
  &lt;li&gt;Registry Sync: add dynamic registry API (Juxxel)&lt;/li&gt;
  &lt;li&gt;Transitive Access Wideners: some more TAWs for block creation and block loot tables (Shnupbups)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;breaking-changes-and-deprecations&quot;&gt;Breaking changes and deprecations&lt;/h3&gt;
&lt;p&gt;The following deprecated APIs were removed:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-networking-v0&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-loot-tables-v1&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootEntryTypeRegistry&lt;/code&gt; from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-content-registries-v0&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CriterionRegistry&lt;/code&gt; from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-object-builder-api-v1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In addition, there were some module-wide deprecations. Deprecated modules were previously removed from the JAR used by developers by default, while still being distributed to all players. We have not previously classified this as a breaking change, since the deprecation has no effect on players.&lt;/p&gt;

&lt;p&gt;This opt-in system, however, caused great confusion among developers during the Models API deprecation process. For this reason, &lt;strong&gt;deprecated modules are now available by default&lt;/strong&gt; in the development environment.&lt;/p&gt;

&lt;p&gt;To restore the old behavior and &lt;strong&gt;disable deprecated modules&lt;/strong&gt;, use the following:&lt;/p&gt;

&lt;div class=&quot;language-groovy highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;modImplementation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;net.fabricmc.fabric-api:fabric-api:0.88.2+1.20.2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;fabric-api-deprecated&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;breaking-change-custom-registry-tags&quot;&gt;Breaking change: custom registry tags&lt;/h4&gt;
&lt;p&gt;Tags for static custom registry entries (created with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricRegistryBuilder&lt;/code&gt;) must now be placed under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tags/registry_namespace/registry_path/&lt;/code&gt;, instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tags/registry_path/&lt;/code&gt;. For example, if the registry is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;my_mod:tiny_potato&lt;/code&gt;, the tags should be placed under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tags/my_mod/tiny_potato/&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This matches the behavior for custom dynamic registries that is recently introduced to Fabric API. &lt;strong&gt;This does not affect vanilla tags&lt;/strong&gt; like blocks, items, or entity types.&lt;/p&gt;

&lt;h4 id=&quot;blocksettype-and-woodtype&quot;&gt;BlockSetType and WoodType&lt;/h4&gt;
&lt;p&gt;To make the API easier to use, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetTypeRegistry&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WoodTypeRegistry&lt;/code&gt; are now replaced with builders, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetTypeBuilder&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WoodTypeBuilder&lt;/code&gt;. The registries were deprecated.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- BlockSetTypeRegistry.registerWood(TEAL_TYPE_ID);
- WoodTypeRegistry.register(TEAL_TYPE_ID, TEAL_BLOCK_SET_TYPE);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ BlockSetTypeBuilder.copyOf(BlockSetType.OAK).build(TEAL_TYPE_ID);
+ WoodTypeBuilder.copyOf(WoodType.OAK).build(TEAL_TYPE_ID, TEAL_BLOCK_SET_TYPE);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;transfer-api&quot;&gt;Transfer API&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Storage#exactView&lt;/code&gt; was deprecated for removal due to lack of use and its complexity.&lt;/p&gt;

&lt;p&gt;Two methods from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Storage&lt;/code&gt; moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StorageUtil&lt;/code&gt;. They are: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simulateInsert&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simulateExtract&lt;/code&gt;. The methods in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Storage&lt;/code&gt; are now deprecated for removal. This allows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simulateExtract&lt;/code&gt; to work on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StorageView&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;models-api-replacement&quot;&gt;Models API replacement&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;This section is currently incomplete. Please check back later!&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;rendering-data-attachments-replacement&quot;&gt;Rendering Data Attachments replacement&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;This section is currently incomplete. Please check back later!&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;minecraft-changes&quot;&gt;Minecraft changes&lt;/h2&gt;
&lt;p&gt;Minecraft 1.20.2 introduces some breaking changes to major developer-facing APIs.&lt;/p&gt;

&lt;h3 id=&quot;networking&quot;&gt;Networking&lt;/h3&gt;
&lt;p&gt;While the developer-facing breaking changes to Networking API were minimum, the API’s implementation was rewritten to use the new configuration stage, between login and play stages. This change hopefully resolves the longstanding issue with proxy servers.&lt;/p&gt;

&lt;p&gt;However, some mods need to change the code to utilize the configuration stage. Here is the summary of the changes; those who work on the raw networking stack (to develop cross-platform APIs or proxies) should read &lt;a href=&quot;https://github.com/FabricMC/fabric/pull/3244&quot;&gt;the protocol proposal&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Mods that use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerPlayNetworking&lt;/code&gt;, for non-configuration purposes, are likely unaffected.&lt;/strong&gt; Mods that use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerLoginNetworking&lt;/code&gt;, or implement configuration syncing/mod version checking feature, should check the note below.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Before 1.20.2, most of the server-client communication took place during gameplay, via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerPlayNetworking&lt;/code&gt;. Mods who wanted to communicate before the player joined had to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerLoginNetworking&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;In 1.20.2, after the player authenticates, but before the player joins the world (and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerPlayerEntity&lt;/code&gt; instance is created), there exist a phase where the client and the server can communicate to configure each other. This is the “configuration stage”.&lt;/li&gt;
  &lt;li&gt;During this stage, the server executes “tasks” one by one. For example, you can define a task that queries the client’s mod version and disconnects the client if the versions differ.&lt;/li&gt;
  &lt;li&gt;Once all tasks are completed, the player joins the world.&lt;/li&gt;
  &lt;li&gt;Importantly, the code allows the server to force a player back to the configuration stage. This feature is not used in vanilla. For example, a minigame server might use this feature to move players between the lobby and the minigames.&lt;/li&gt;
  &lt;li&gt;Configuration stage is designed to allow mods to reliably exchange packets before the player joins. If you previously have used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerLoginNetworking&lt;/code&gt;, it is highly recommended to switch to configuration stage, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerConfigurationNetworking&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example of implementing one-way syncing, from server to client:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// define ConfigS2CPacket; see https://gist.github.com/apple502j/9c6b9e5e8dec37cbf6f3916472a79d57&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;ServerConfigurationConnectionEvents&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;CONFIGURE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ServerConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ConfigS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Client side:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ClientConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerGlobalReceiver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ConfigS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;packet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// do something with packet&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example of sending a packet to, and receiving a packet from, a client:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// define ConfigC2SPacket, which is sent as a response to S2CPacket&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ConfigTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServerPlayerConfigurationTask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServerPlayerConfigurationTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServerPlayerConfigurationTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;my_mod_id:my_mod_config&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServerPlayerConfigurationTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sendPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Consumer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Packet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;?&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;accept&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ServerConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ConfigS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;ServerConfigurationConnectionEvents&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;CONFIGURE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// This if block is required! Otherwise the client gets stuck in connection screen&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// if the client cannot handle the packet.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ServerConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;canSend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ConfigS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ConfigTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;config&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Optional; if you want to require certain mods, disconnect the client.&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;disconnect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;You need to install Tiny Potato Mod!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;ServerConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerGlobalReceiver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ConfigC2SPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;packet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Check packet here&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Warning: if you do not call completeTask, the client gets stuck!&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;completeTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ConfigTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Client side:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ClientConfigurationNetworking&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerGlobalReceiver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ConfigS2CPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;packet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// do something with packet&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// send a response&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;sendPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ConfigC2SPacket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is one breaking change to Networking API: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPlayNetworking#createC2SPacket&lt;/code&gt; now returns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Packet&amp;lt;ServerCommonPacketListener&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Packet&amp;lt;ServerPlayPacketListener&amp;gt;&lt;/code&gt; (and similar changes with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;createS2CPacket&lt;/code&gt; as well.)&lt;/p&gt;

&lt;h3 id=&quot;status-effects&quot;&gt;Status effects&lt;/h3&gt;
&lt;p&gt;Status effects are now stored using string ID, instead of integer ID. &lt;strong&gt;Fabric does not migrate the data by itself.&lt;/strong&gt; We expect someone to make a mod for data conversion.&lt;/p&gt;

&lt;p&gt;This change also meant that Registry Sync module no longer has to keep track of the raw IDs of registry entries on disk. The tracker file will NOT be automatically deleted. API-wise, this means &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryAttribute#PERSISTED&lt;/code&gt; is gone.&lt;/p&gt;

&lt;h3 id=&quot;recipes-and-advancements&quot;&gt;Recipes and advancements&lt;/h3&gt;
&lt;p&gt;Recipe and advancement code was refactored to use records. In addition, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RecipeEntry&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AdvancementEntry&lt;/code&gt; is used in many places where a raw recipe or advancement is used previously. As the name suggests, this is a pair of the ID and the value. If you want to get the recipe/advancement itself, call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.value()&lt;/code&gt;. In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RecipeProvider&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exporter&lt;/code&gt; is now of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RecipeExporter&lt;/code&gt;, not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Consumer&amp;lt;RecipeJsonProvider&amp;gt;&lt;/code&gt;. The usage remains the same; to output a recipe, call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accept&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Recipes and ingredients are serialized to and from the disk using Codecs. Fabric API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CustomIngredientSerializer&lt;/code&gt; now has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;codec&lt;/code&gt; method that returns codec, instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write&lt;/code&gt; taking &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JsonObject&lt;/code&gt;. (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write&lt;/code&gt; taking &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PacketByteBuf&lt;/code&gt; still exists.) To make the migration easier, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Codecs#fromJsonSerializer&lt;/code&gt; - though this is deprecated.&lt;/p&gt;

&lt;p&gt;Yarn mapping received a couple of renames. Most significantly, “input” and “output” are now called “ingredient” and “result”.&lt;/p&gt;

&lt;h3 id=&quot;trading&quot;&gt;Trading&lt;/h3&gt;
&lt;p&gt;A new experiment for rebalancing villager and wandering trader trades is added. While this is labeled as an experiment, it is an officially-supported feature that can be enabled in a release.&lt;/p&gt;

&lt;p&gt;While the internal changes to villagers were minimum, there were substantial changes to how wandering trader offers are picked in the experiment.&lt;/p&gt;

&lt;p&gt;Previously, the trades were selected in a similar way to villagers, where level 0 indicated common items and level 1 indicated rare items. The experiment replaces this with a pool-based method; there are several pools, and from each pool the game picks certain numbers of offers.&lt;/p&gt;

&lt;p&gt;We are currently designing an API that supports the experiment. For now, the current code works for existing worlds and newly created worlds without the experiment.&lt;/p&gt;

&lt;h3 id=&quot;gui&quot;&gt;GUI&lt;/h3&gt;
&lt;p&gt;Two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen&lt;/code&gt; related changes: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onMouseScrolled&lt;/code&gt; method now takes both horizontal and vertical scroll amount. Most mouses do not support horizontal scrolling, so use that feature with caution. Another change is that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;renderBackground&lt;/code&gt; method now takes mouse positions and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tickDelta&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EntryListWidget#mouseClicked&lt;/code&gt;, the mouse button is now automatically checked. Override &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isSelectButton&lt;/code&gt; to allow right-clicking entries to select one. The checks in individual entries are now redundant.&lt;/p&gt;

&lt;p&gt;Texture rendering methods have changed; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawTexture&lt;/code&gt; calls should be replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawGuiTexture&lt;/code&gt;. Note that since the game no longer uses atlases in GUI textures, there is no need to specify UV.&lt;/p&gt;

&lt;h3 id=&quot;miscellaneous-changes&quot;&gt;Miscellaneous changes&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MessageDecorator&lt;/code&gt; is now synchronous.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MeleeAttackGoal#canAttack&lt;/code&gt; was added. This is checked inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;attack&lt;/code&gt; method.&lt;/li&gt;
  &lt;li&gt;In Yarn, several classes relating to session, player reporting, and telemetry were moved to a new package, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;client.session&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Minecraft 1.20.2 will be released in the near future, again with some changes that impact many mods.</summary></entry><entry><title type="html">Fabric for Minecraft 1.20</title><link href="https://fabricmc.net/2023/05/25/120.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.20" /><published>2023-05-25T00:00:00+00:00</published><updated>2023-05-25T00:00:00+00:00</updated><id>https://fabricmc.net/2023/05/25/120</id><content type="html" xml:base="https://fabricmc.net/2023/05/25/120.html">&lt;p&gt;Minecraft 1.20 - the Trails and Tales Update - &lt;a href=&quot;https://www.minecraft.net/en-us/article/trails-tales-update-coming&quot;&gt;releases on June 7th 2023&lt;/a&gt;, again with a number of changes that impact many mods.&lt;/p&gt;

&lt;p&gt;As usual, we ask players to be patient, and give mod developers time to update to this new version.&lt;/p&gt;

&lt;p&gt;Here is a list of all major modder-facing changes in this version. Note that all code references are using Yarn mappings; modders using alternative mappings may need to use different names.&lt;/p&gt;

&lt;h2 id=&quot;fabric-changes&quot;&gt;Fabric changes&lt;/h2&gt;
&lt;p&gt;Developers should use Loom 1.2 (at the time of writing) to develop for Minecraft 1.20. Players should install the latest stable version of Fabric Loader (currently 0.14.19) to play 1.20.&lt;/p&gt;

&lt;h3 id=&quot;loom-12&quot;&gt;Loom 1.2&lt;/h3&gt;
&lt;p&gt;Loom 1.2 is a small update focused on game library handling improvements and official Windows ARM native support. &lt;strong&gt;Loom 1.2 requires Gradle 8.1.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;new-fabric-api-changes&quot;&gt;New Fabric API changes&lt;/h3&gt;
&lt;p&gt;Fabric API added many features since the last update blog post:&lt;/p&gt;

&lt;!-- maybe sort alphabetically from now on? --&gt;

&lt;ul&gt;
  &lt;li&gt;Data Generation: add codec data provider. (ErrorCraft)&lt;/li&gt;
  &lt;li&gt;Interaction Events: provide fake player API. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Networking: add packet-based API similar to vanilla networking system. See &lt;a href=&quot;https://gist.github.com/apple502j/9c6b9e5e8dec37cbf6f3916472a79d57&quot;&gt;the gist&lt;/a&gt; for migration tips. Note that the existing API is not deprecated in any way. (apple502j)&lt;/li&gt;
  &lt;li&gt;Renderer API: add material inspection and glint material property, remove texture indices. (PepperCode1, Technici4n)&lt;/li&gt;
  &lt;li&gt;Transfer API: add slotted storage and non-empty iterator. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Other small additions to various APIs, such as Convention Tag and Object Builder&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;breaking-changes-and-deprecations&quot;&gt;Breaking changes and deprecations&lt;/h3&gt;
&lt;p&gt;Aside from changes related to Minecraft code changes (which are discussed below), no breaking change to the API was introduced.&lt;/p&gt;

&lt;p&gt;During one of the code refactors, one bug related to the Registry Sync was “accidentally” fixed. The bug previously allowed clients with Fabric API (but without content mods) to join a server with modded contents, despite the mod being missing on the client. The refactor was merged to both 1.19.4 and 1.20 snapshot branches; however, the bug was reintroduced to 1.19.4 only to prevent unexpected breakage. If you have previously relied on the bug, make sure to have users install the mods on the client.&lt;/p&gt;

&lt;p&gt;A few rarely-used APIs within &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EventFactory&lt;/code&gt; were deprecated. They were intended to be used for profiling events; however, the standard Java profiler provides a better result.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;invalidate&lt;/code&gt; method was terminally deprecated, to be removed in future versions.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isProfilingEnabled&lt;/code&gt; method was deprecated and now always returns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getHandlerName&lt;/code&gt; method was also deprecated.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;fabric-rendering-api-deprecations&quot;&gt;Fabric Rendering API deprecations&lt;/h4&gt;
&lt;p&gt;Many methods of the renderer API had an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;int spriteIndex&lt;/code&gt; parameter that was always 0. It was removed, and the naming of some methods was improved in the process. The boolean &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;disableAo&lt;/code&gt; material property was also replaced by a more flexible TriState for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ambientOcclusion&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The old methods are now deprecated, here are a few examples of migrating away from them:&lt;/p&gt;
&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  MaterialFinder finder = ...;
&lt;span class=&quot;gd&quot;&gt;- materialFinder.blendMode(0, &amp;lt;blend mode&amp;gt;);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ materialFinder.blendMode(&amp;lt;blend mode&amp;gt;);
&lt;/span&gt;&lt;span class=&quot;gd&quot;&gt;- materialFinder.disableAo(0, true);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ materialFinder.ambientOcclusion(TriState.FALSE);
&lt;/span&gt;
  QuadView quadView = ...;
&lt;span class=&quot;gd&quot;&gt;- quadView.spriteColor(0, -1, -1, -1, -1);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ quadView.color(-1, -1, -1, -1);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The full list of renames can be found &lt;a href=&quot;https://github.com/FabricMC/fabric/pull/3044&quot;&gt;in the pull request description&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The new methods do not have a default implementation in 1.20. This does not affect mods using the Renderer API, however third-party renderers such as Canvas or Indium must add support for them.&lt;/p&gt;

&lt;h2 id=&quot;minecraft-changes&quot;&gt;Minecraft changes&lt;/h2&gt;
&lt;p&gt;Minecraft 1.20 introduces some breaking changes to major developer-facing APIs.&lt;/p&gt;

&lt;h3 id=&quot;material-or-the-lack-thereof&quot;&gt;Material (or the lack thereof)&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Material&lt;/code&gt; was a class that indicated the type of blocks, such as plant or metal. This class no longer exists:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;To specify the properties, such as the map color and whether the block is replaceable, use the block settings.
One note on the new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;solid&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notSolid&lt;/code&gt; block settings: These two methods override the default solid block check. If a block is not specified as solid or not solid explicitly, then the game checks whether the shape’s average side length is more than 0.73 OR whether the block is taller than 1 block. If either is true, the block is solid.&lt;/li&gt;
  &lt;li&gt;To get those values, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockState&lt;/code&gt; methods. (You may need to refactor your code if your method takes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Block&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockState&lt;/code&gt;.)&lt;/li&gt;
  &lt;li&gt;To check if a block is of a certain type, use block tags or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;instanceof&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Related changes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetType&lt;/code&gt; now has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canOpenByHand&lt;/code&gt; field, used by doors and trapdoors.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Block#canMobSpawnInside&lt;/code&gt; now takes a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockState&lt;/code&gt;. Previously it took no arguments.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockState#blocksMovement&lt;/code&gt;, which returns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;true&lt;/code&gt; for all solid blocks except cobwebs and bamboo shoots, was added.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Block.Settings#of&lt;/code&gt; method was renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;create&lt;/code&gt;. Fabric API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricBlockSettings#of&lt;/code&gt; was renamed as well, and the old method was deprecated.&lt;/li&gt;
  &lt;li&gt;Fabric API: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricMaterialBuilder&lt;/code&gt; was removed.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- new Block(AbstractBlock.Settings.of(Material.PLANT, MapColor.GREEN))
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ new Block(AbstractBlock.Settings.create().mapColor(MapColor.GREEN).pistonBehavior(PistonBehavior.DESTROY))
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;world-changes&quot;&gt;World changes&lt;/h3&gt;
&lt;p&gt;One of the biggest, yet subtle changes in this version is that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Entity#world&lt;/code&gt; is now private. Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Entity#getWorld&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Entity#getServerWorld&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- World world = player.world;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ World world = player.getWorld();
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RedstoneView&lt;/code&gt; provides redstone-related methods that previously existed in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;World&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;screen-and-rendering-changes&quot;&gt;Screen and rendering changes&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawableHelper&lt;/code&gt;, a utility that is frequently used by subclassing it, turned into an object passed to rendering methods: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawContext&lt;/code&gt;. This replaces the various &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MatrixStack matrices&lt;/code&gt; parameters. You usually do not need to construct one yourself.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- public void render(MatrixStack matrices) {
-   RenderSystem.setShaderTexture(0, TEXTURE);
-   drawTexture(matrices, ...);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ public void render(DrawContext context) {
+   context.drawTexture(TEXTURE, ...); // texture ID is now specified here
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following new methods were added to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawContext&lt;/code&gt;, replacing other methods in various places:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setShaderColor&lt;/code&gt; (wraps &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RenderSystem&lt;/code&gt; one, which still exists)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawTextWithShadow&lt;/code&gt; (replaces &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TextRenderer#drawWithShadow&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawText&lt;/code&gt; (wraps &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TextRenderer#draw&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawTextWrapped&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawItem&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawItemWithoutEntity&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawItemInSlot&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawItemTooltip&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawTooltip&lt;/code&gt; (replaces &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen#renderTooltip&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawHoverEvent&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In addition, various rendering methods now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawContext&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MatrixStack&lt;/code&gt;. If you still somehow need the matrix stack, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawContext#getMatrices&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Fabric API changes related to this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Rendering API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HudRenderCallback&lt;/code&gt;, Screen API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenEvents.beforeRender&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenEvents.afterRender&lt;/code&gt; now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawContext&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MatrixStack&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screens.getItemRenderer&lt;/code&gt; is removed. This can be easily replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MinecraftClient#getItemRenderer&lt;/code&gt;, although this is usually not necessary.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And one unrelated change: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen#passEvents&lt;/code&gt; was removed, therefore screens can no longer pass events.&lt;/p&gt;

&lt;h3 id=&quot;item-group-changes&quot;&gt;Item group changes&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroup&lt;/code&gt;s are now registered in a registry. This means that the vanilla game tracks them using identifiers, just like blocks and items - and it is registered in the same way as those.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- public static final ItemGroup ITEM_GROUP = FabricItemGroup.builder(new Identifier(MOD_ID, &quot;example&quot;))
-   .icon(() -&amp;gt; new ItemStack(Items.DIAMOND_PICKAXE))
-   .displayName(Text.translatable(&quot;example-mod.group.example&quot;))
-   .build();
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ public static final RegistryKey&amp;lt;ItemGroup&amp;gt; ITEM_GROUP = RegistryKey.of(RegistryKeys.ITEM_GROUP, new Identifier(MOD_ID, &quot;example&quot;));
+
+ @Override
+ public void onInitialize() {
+   Registry.register(Registries.ITEM_GROUP, ITEM_GROUP, FabricItemGroup.builder()
+       .icon(() -&amp;gt; new ItemStack(Items.DIAMOND_PICKAXE))
+       .displayName(Text.translatable(&quot;example-mod.group.example&quot;))
+       .build()); // build() no longer registers by itself
+ }
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricItemGroup#builder&lt;/code&gt; takes no arguments now, since the ID is assigned by the registry. Note, &lt;strong&gt;you must now call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;displayName&lt;/code&gt; manually or it will crash!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroupEvents.modifyEntriesEvent&lt;/code&gt; will now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryKey&amp;lt;ItemGroup&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroup&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Identifier&lt;/code&gt;. Note that vanilla &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroups&lt;/code&gt; fields are now registry keys, so code using those just needs to be recompiled. And with the game now providing the identifier, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IdentifiableItemGroup&lt;/code&gt; is removed.&lt;/p&gt;

&lt;p&gt;Finally, one small breaking change to Data Generation: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricLanguageProvider.TranslationBuilder#add&lt;/code&gt; will now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryKey&amp;lt;ItemGroup&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroup&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;itemstack-changes&quot;&gt;ItemStack changes&lt;/h3&gt;
&lt;p&gt;Code modifying &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack&lt;/code&gt; should now use the combined methods (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;copyWithCount&lt;/code&gt;) instead of 2 method calls (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;copy&lt;/code&gt; + &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setCount&lt;/code&gt;) to properly handle empty stacks. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack#copyAndEmpty&lt;/code&gt; was added to move the contents of one stack into a new copy.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- ItemStack copy = stack.copy();
- copy.setCount(1);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ ItemStack copy = stack.copyWithCount(1);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A couple of equality methods in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack&lt;/code&gt; were removed:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack#isItemEqual&lt;/code&gt;: use the static &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;areItemsEqual()&lt;/code&gt; method instead.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack#areNbtEqual&lt;/code&gt;: use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canCombine&lt;/code&gt; (which also checks for items) or compare NBT yourself instead.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;loot-changes&quot;&gt;Loot changes&lt;/h3&gt;
&lt;p&gt;Predicates and item modifiers (or, in legacy terms, loot conditions and loot functions) are now managed by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootManager&lt;/code&gt;. They are identified using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootDataKey&lt;/code&gt;, similar to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryKey&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getTable&lt;/code&gt; is renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getLootTable&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getElement&lt;/code&gt; can be used to get loot tables, predicates, or item modifiers.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootContext.Builder&lt;/code&gt; is moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootContextParameterSet.Builder&lt;/code&gt; and its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parameter&lt;/code&gt; method was renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add&lt;/code&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putDrop&lt;/code&gt; method was renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addDynamicDrop&lt;/code&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getNullable&lt;/code&gt; method was renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getOptional&lt;/code&gt; for consistency. The loot inventory seed is now given via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;supplyInventory&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;other-small-but-noteworthy-changes&quot;&gt;Other small, but noteworthy changes&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Fabric Content Registries’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VillagerPlantableRegistry&lt;/code&gt; was replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemTags.VILLAGER_PLANTABLE_SEEDS&lt;/code&gt; (data pack tags).&lt;/li&gt;
  &lt;li&gt;Herobrine was removed.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RecipeProvider#offerWoolDyeingRecipe&lt;/code&gt; and similar methods were merged to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;offerDyeableRecipes&lt;/code&gt; (which also offers re-coloring).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ServerCommandSource#sendFeedback&lt;/code&gt; now takes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Supplier&amp;lt;Text&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text&lt;/code&gt; for performance reasons. Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;() -&amp;gt;&lt;/code&gt; and it should be good to go.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Minecraft 1.20 - the Trails and Tales Update - releases on June 7th 2023, again with a number of changes that impact many mods.</summary></entry><entry><title type="html">Fabric for Minecraft 1.19.4</title><link href="https://fabricmc.net/2023/03/01/1194.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.19.4" /><published>2023-03-01T00:00:00+00:00</published><updated>2023-03-01T00:00:00+00:00</updated><id>https://fabricmc.net/2023/03/01/1194</id><content type="html" xml:base="https://fabricmc.net/2023/03/01/1194.html">&lt;p&gt;Minecraft 1.19.4 is almost here, with a number of changes that impact most mods. As noted &lt;a href=&quot;/2022/11/24/1193.html&quot;&gt;previously&lt;/a&gt;, ‘minor’ releases starting from 1.19.3 can include major changes, and neither mod authors nor players should assume compatibility.&lt;/p&gt;

&lt;p&gt;As usual, we ask players to be patient, and give mod developers time to update to this new version.&lt;/p&gt;

&lt;p&gt;Here is a list of all major modder-facing changes in this version. Note that all code references are using Yarn mappings; modders using alternative mappings may need to use different names.&lt;/p&gt;

&lt;h2 id=&quot;fabric-changes&quot;&gt;Fabric changes&lt;/h2&gt;
&lt;p&gt;Developers should use Loom 1.1 (at the time of writing) to develop for Minecraft 1.19.4. Players should install the latest stable version of Fabric Loader (currently 0.14.14) to play 1.19.4.&lt;/p&gt;

&lt;h3 id=&quot;new-fabric-api-features&quot;&gt;New Fabric API features&lt;/h3&gt;
&lt;p&gt;Fabric API added many features since the last update blog post:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Language files provided by mods are now loaded on the server. (Teddy Li)&lt;/li&gt;
  &lt;li&gt;Recipe API: add custom &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ingredient&lt;/code&gt;s. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Data Generation: support resource conditions in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockLootTableGenerator&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;GameTest: improve structure loading to support both NBT and SNBT-based structures. (apple502j)&lt;/li&gt;
  &lt;li&gt;Resource Conditions: add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;registry_contains&lt;/code&gt; condition. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Added Client Message Events (Kevin, Juuz, Sideroo)&lt;/li&gt;
  &lt;li&gt;Other small additions to various APIs, such as Object Builder and Renderer API&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;breaking-changes-and-deprecations&quot;&gt;Breaking changes and deprecations&lt;/h3&gt;
&lt;p&gt;In addition to changes described below, Transfer API received two breaking changes (applicable to 1.19.4):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mods now need to handle &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;null&lt;/code&gt; directions in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FluidStorage&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStorage&lt;/code&gt;, which indicate full inventory without side restriction.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exactView&lt;/code&gt; method with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transaction&lt;/code&gt; parameter, deprecated for removal, is removed. Use the transactionless method instead.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In Registry Sync, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricRegistryBuilder&lt;/code&gt; no longer requires the type class to be passed - just the registry key. The old methods were deprecated.&lt;/p&gt;

&lt;p&gt;In Block Render Layer API, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockRenderLayerMap&lt;/code&gt;’s useless item-related methods were deprecated for removal.&lt;/p&gt;

&lt;h2 id=&quot;minecraft-changes&quot;&gt;Minecraft changes&lt;/h2&gt;

&lt;p&gt;Minecraft 1.19.4 introduces some breaking changes to major developer-facing APIs.&lt;/p&gt;

&lt;h3 id=&quot;item-groups&quot;&gt;Item groups&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroup&lt;/code&gt; registration changed again. Callback passed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroup.Builder#entries&lt;/code&gt; now takes two arguments, instead of three. Enabled features and operator permission flag are now passed via the context object.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;private static final ItemGroup ITEM_GROUP = FabricItemGroup.builder(new Identifier(MOD_ID, &quot;test_group&quot;))
&lt;/span&gt;    .icon(() -&amp;gt; new ItemStack(Items.DIAMOND))
&lt;span class=&quot;gd&quot;&gt;-   .entries((enabledFeatures, entries, operatorEnabled) -&amp;gt; {
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+   .entries((context, entries) -&amp;gt; {
&lt;/span&gt;       entries.add(TEST_ITEM);
    })
    .build();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;damage-types&quot;&gt;Damage types&lt;/h3&gt;
&lt;p&gt;With the addition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/damage&lt;/code&gt;, damage related code has been refactored.&lt;/p&gt;

&lt;p&gt;Damage types can now be defined using a dynamic registry, with data packs. This also removed the constant &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DamageSource&lt;/code&gt;s. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DamageSources&lt;/code&gt; class holds several methods to get instances of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DamageSource&lt;/code&gt; with or without an attacker:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- targetEntity.damage(DamageSource.MAGIC, 4.0F);
- anotherEntity.damage(DamageSource.anvil(attacker), 1.0F);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ targetEntity.damage(world.getDamageSources().magic(), 4.0F);
+ anotherEntity.damage(world.getDamageSources().fallingAnvil(attacker), 1.0F);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDamageSources&lt;/code&gt; method also exists in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Entity&lt;/code&gt; as a shortcut.&lt;/p&gt;

&lt;p&gt;To check if damage is of a certain type, tags should be used. Several data pack predicates related to damages have changed to reflect this.&lt;/p&gt;

&lt;p&gt;Many damage related checks previously hardcoded in the game, such as fall damage-immune mobs (via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handleFallDamage&lt;/code&gt; override), are now handled using entity and damage type tags.&lt;/p&gt;

&lt;h3 id=&quot;block-set-types&quot;&gt;Block set types&lt;/h3&gt;
&lt;p&gt;Sounds of various blocks, such as doors, trapdoors, buttons, pressure plates, etc. are now configured by passing an instance of a new class, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetType&lt;/code&gt;, to the respective block constructors. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetType&lt;/code&gt;s can be created and registered using Object Builder API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetTypeRegistry&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Similarly, signs and fence gates use the class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WoodType&lt;/code&gt; to determine their sounds and sign textures. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WoodType&lt;/code&gt;s require a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockSetType&lt;/code&gt;, and can be registered using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WoodTypeRegistry&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;biome&quot;&gt;Biome&lt;/h3&gt;
&lt;p&gt;Biome precipitation is now a boolean. Whether it rains or snows is now entirely dependent on temperature and is positional; if the temperature is below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.15&lt;/code&gt;, it snows. Biome Modification API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setPrecipitation&lt;/code&gt; method now takes a boolean to reflect this, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Biome#getPrecipitation&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hasPrecipitation&lt;/code&gt; methods were added to reflect this. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Biome#isHot&lt;/code&gt; is removed and replaced with tags for specific usecases.&lt;/p&gt;

&lt;p&gt;Biome JSON files should now have a boolean &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;has_precipitation&lt;/code&gt; field, not enum &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;precipitation&lt;/code&gt; field.&lt;/p&gt;

&lt;h3 id=&quot;guis-and-rendering&quot;&gt;GUIs and rendering&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RenderSystem#enableTexture&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;disableTexture&lt;/code&gt; has been removed. They are no longer necessary.&lt;/p&gt;

&lt;p&gt;Most rendering methods now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MatrixStack&lt;/code&gt; if they did not already. With this, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawableHelper#getZOffset&lt;/code&gt; is now gone, and all &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DrawableHelper&lt;/code&gt; methods have turned into static methods, along with some Yarn renames:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawCenteredText&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawCenteredTextWithShadow&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawStringWithShadow&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawWithShadow&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drawTextWithShadow&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModelTransformation.Mode&lt;/code&gt; is replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModelTransformationMode&lt;/code&gt; (notice the lack of dot). &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TextRenderer&lt;/code&gt; methods now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TextLayerType&lt;/code&gt;, instead of boolean &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seeThrough&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;GUI code has received changes to support new keyboard navigation. After each keyboard navigation, the game recalculates the focused element; it creates a tree of elements, making sure only one element is focused at a time. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen&lt;/code&gt; implementations should call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setInitialFocus&lt;/code&gt; within the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;init&lt;/code&gt; method.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenHandlerType&lt;/code&gt; now requires a required feature set to be passed. This is usually &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FeatureFlags.VANILLA_FEATURES&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;recipes&quot;&gt;Recipes&lt;/h3&gt;
&lt;p&gt;Many recipe related methods now require a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DynamicRegistryManager&lt;/code&gt; instance to be passed.&lt;/p&gt;

&lt;h3 id=&quot;entities&quot;&gt;Entities&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Entity#stepHeight&lt;/code&gt; is now private. This must now be set using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setStepHeight&lt;/code&gt;. The getter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getStepHeight&lt;/code&gt; is added as well.&lt;/p&gt;

&lt;p&gt;References to “scoreboard tag” (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tag&lt;/code&gt;) are now renamed to “command tag”.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getCausingEntity&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setCausingEntity&lt;/code&gt; and other owner-related methods have been merged into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getOwner&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setOwner&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Several changes have been made to vehicles. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemSteerable&lt;/code&gt; methods are moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LivingEntity&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SaddledComponent&lt;/code&gt; fields are now private. The following methods were added to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LivingEntity&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tickControlled&lt;/code&gt;, which is called every tick if the entity is being ridden and controlled by other entity. Set the entity rotation and call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SaddledComponent#tickBoost&lt;/code&gt; here.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travelControlled&lt;/code&gt;, from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemSteerable#travel&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getControlledMovementSpeed&lt;/code&gt;, which calculates the velocity from the user input.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getSaddledSpeed&lt;/code&gt;, which calculates the velocity of the entity. Multiply the value with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SaddledComponent#getSpeed&lt;/code&gt; and return here.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Additionally, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LivingEntity#getOffGroundSpeed&lt;/code&gt; was added. This controls the entity velocity when it is falling or flying.&lt;/p&gt;

&lt;h3 id=&quot;equipment&quot;&gt;Equipment&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wearable&lt;/code&gt; is renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Equipment&lt;/code&gt;, and is now implemented by shields. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Equipment&lt;/code&gt; items must now also implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getSlotType&lt;/code&gt; method.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArmorItem&lt;/code&gt; constructor now takes an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArmorItem.ArmorType&lt;/code&gt; instead of an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EquipmentSlot&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;blockpos-changes&quot;&gt;BlockPos changes&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec3i&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlockPos&lt;/code&gt; constructors that take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;double&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Position&lt;/code&gt; (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec3d&lt;/code&gt;) are moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ofFloored&lt;/code&gt; method. This makes it clear which rounding mode is used.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- BlockPos pos = new BlockPos(3.14, 0.0, 3.14);
- BlockPos pos2 = new BlockPos(entity.getPos());
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ BlockPos pos = BlockPos.ofFloored(3.14, 0.0, 3.14);
+ BlockPos pos2 = BlockPos.ofFloored(entity.getPos());
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;texts&quot;&gt;Texts&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TranslatableTextContent&lt;/code&gt; now supports text fallbacks, used when no matching translation is found. To construct texts with fallbacks, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text#translatableWithFallback&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenTexts&lt;/code&gt; received &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CONTINUE&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SPACE&lt;/code&gt; predefined texts, as well as a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;space&lt;/code&gt; method for chaining; for example &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;space().append(text)&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;data-fixers&quot;&gt;Data fixers&lt;/h3&gt;
&lt;p&gt;The library that powers serialization codecs and world file updates, DataFixerUpper, received major performance improvements both in startup and update time.&lt;/p&gt;

&lt;p&gt;The library update and corresponding Minecraft changes are as follows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update&lt;/code&gt; methods in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NbtHelper&lt;/code&gt; are moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DataFixTypes&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;There is now a method to update &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dynamic&lt;/code&gt;s that aren’t NBT.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDataVersion&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putDataVersion&lt;/code&gt; methods were added to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NbtHelper&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DataResult#error&lt;/code&gt; now expects a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Supplier&amp;lt;String&amp;gt;&lt;/code&gt;, to lazy-evaluate the error message.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Util#getBootstrapExecutor&lt;/code&gt; is removed, because its only use was off-thread DataFixerUpper optimization (which is no longer off-thread). Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getMainWorkerExecutor&lt;/code&gt; instead.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Minecraft 1.19.4 is almost here, with a number of changes that impact most mods. As noted previously, ‘minor’ releases starting from 1.19.3 can include major changes, and neither mod authors nor players should assume compatibility.</summary></entry><entry><title type="html">Fabric for Minecraft 1.19.3</title><link href="https://fabricmc.net/2022/11/24/1193.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.19.3" /><published>2022-11-24T00:00:00+00:00</published><updated>2022-11-24T00:00:00+00:00</updated><id>https://fabricmc.net/2022/11/24/1193</id><content type="html" xml:base="https://fabricmc.net/2022/11/24/1193.html">&lt;p&gt;Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, &lt;a href=&quot;https://help.minecraft.net/hc/en-us/articles/9971900758413&quot;&gt;Mojang have changed their versioning scheme&lt;/a&gt; such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version.&lt;/p&gt;

&lt;p&gt;As usual, we ask players to be patient, and give mod developers time to update to this new version.&lt;/p&gt;

&lt;h2 id=&quot;fabric-changes&quot;&gt;Fabric changes&lt;/h2&gt;
&lt;p&gt;Developers should use Loom 1.0 (at the time of writing) to develop for Minecraft 1.19.3.&lt;/p&gt;

&lt;p&gt;Minecraft 1.19.3 introduces numerous breaking changes to major developer-facing APIs.&lt;/p&gt;

&lt;h3 id=&quot;fabric-api-mod-id-change&quot;&gt;Fabric API Mod ID change&lt;/h3&gt;
&lt;p&gt;The mod ID of Fabric API is now &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-api&lt;/code&gt;. The old ID &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric&lt;/code&gt; still works in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.mod.json&lt;/code&gt;, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;depends&lt;/code&gt;; however, the new ID is recommended for better user experience when Fabric API is missing.&lt;/p&gt;

&lt;h3 id=&quot;new-fabric-api-features&quot;&gt;New Fabric API features&lt;/h3&gt;
&lt;p&gt;Fabric API added many features since the last update blog post:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Item API: support stack-aware recipe remainders. (AlphaMode)&lt;/li&gt;
  &lt;li&gt;Content Registries: register villager interactions, sculk sensor frequencies, and path node types (aws404, Shnupbups, devpelux)&lt;/li&gt;
  &lt;li&gt;Client Tags: allow client-side mods to rely on tags not present on the server. (dexman545)&lt;/li&gt;
  &lt;li&gt;Entity Events: add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AFTER_DEATH&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AFTER_DAMAGE&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALLOW_DEATH&lt;/code&gt; events. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Resource Conditions: support all tags. (apple502j)&lt;/li&gt;
  &lt;li&gt;Sound API: play custom sounds. (SquidDev)&lt;/li&gt;
  &lt;li&gt;Resource Loader: support &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text&lt;/code&gt; as pack display name. (apple502j)&lt;/li&gt;
  &lt;li&gt;Block Appearance API: groundwork for cross-mod connected textures. (Technici4n)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricLanguageProvider&lt;/code&gt;: easily generate language JSON files with data generation. (mineblock11)&lt;/li&gt;
  &lt;li&gt;Overwriting Screen Handler Factory: open new screen handlers without re-centering the mouse pointer. (apple502j)&lt;/li&gt;
  &lt;li&gt;Transfer API: add several helper APIs for fluid interactions and storage. (Technici4n)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;minecraft-changes&quot;&gt;Minecraft changes&lt;/h2&gt;

&lt;h3 id=&quot;registries&quot;&gt;Registries&lt;/h3&gt;

&lt;p&gt;There are several changes to registries.&lt;/p&gt;

&lt;p&gt;The most impactful change is that &lt;strong&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registry&lt;/code&gt; class is now split into 3 different classes&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryKeys&lt;/code&gt; holds the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryKey&lt;/code&gt; instances used for registries, previously held in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registry&lt;/code&gt;’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;static final&lt;/code&gt; fields.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registries&lt;/code&gt; holds all static registry instances.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registry&lt;/code&gt; is now an interface and holds everything else.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Together with this change, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KEY&lt;/code&gt; suffixes for registry key fields have been removed.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- Registry.register(Registry.BLOCK_KEY, new Identifier(&quot;test&quot;, &quot;dirt&quot;), DIRT_BLOCK);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ Registry.register(Registries.BLOCK, new Identifier(&quot;test&quot;, &quot;dirt&quot;), DIRT_BLOCK);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In many parts of the code, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registry&lt;/code&gt;  is now replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryLookup&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registerable&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryLookup&lt;/code&gt; is a read-only view of a registry, while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registerable&lt;/code&gt; is a write-only view. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BuiltinRegistries&lt;/code&gt; class no longer holds the built-in registry; it instead holds the builder to create a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryLookup.RegistryLookup&lt;/code&gt; (a lookup of registry lookups, similar to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DynamicRegistryManager&lt;/code&gt;). See below for migrating old worldgen code.&lt;/p&gt;

&lt;p&gt;Since virtually all registry-related code needs a rewrite, Yarn used this opportunity to &lt;strong&gt;repackage the registry and tag packages&lt;/strong&gt; under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.minecraft.registry&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.minecraft.registry.tag&lt;/code&gt; respectively. Note, if you are using Mojang Mappings or other third-party mappings, this does not affect you. A simple find-and-replace should be enough:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- import net.minecraft.tag.TagKey;
- import net.minecraft.util.registry.Registry;
- import net.minecraft.util.registry.RegistryEntry;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ import net.minecraft.registry.tag.TagKey;
+ import net.minecraft.registry.Registry;
+ import net.minecraft.registry.entry.RegistryEntry;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fabric API’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DynamicRegistrySetupCallback&lt;/code&gt; was changed to take a new context object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DynamicRegistryView&lt;/code&gt; instead of a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DynamicRegistryManager&lt;/code&gt;. This API allows easy registration of events, while preventing crashes caused by the misuse of previous API.&lt;/p&gt;

&lt;h3 id=&quot;item-groups&quot;&gt;Item Groups&lt;/h3&gt;
&lt;p&gt;One of the major changes in this version involve the Creative inventory screen. Items can now appear in multiple tabs and the display order no longer relies on the item registration order. Item groups got a significant refactor during this process.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-item-groups-v0&lt;/code&gt; module is replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-item-group-api-v1&lt;/code&gt;. This is now required for adding items to vanilla item groups; you can no longer specify the item group using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item.Settings&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To add an item to a vanilla or other existing item group, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroupEvents&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1.19.2&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Item&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;MY_ITEM&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Settings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ItemGroup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MISC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 1.19.3&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;ItemGroupEvents&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;modifyEntriesEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ItemGroups&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;INGREDIENTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MY_ITEM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Instead of ItemGroup, you can also specify an Identifier for modded item groups.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To create a new item group, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricItemGroup.builder()&lt;/code&gt;. This allows adding items directly, without using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemGroupEvents&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ItemGroup&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ITEM_GROUP&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FabricItemGroup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Identifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;example&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;test_group&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;displayName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;literal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Example Item Group&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ItemStack&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;DIAMOND&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;enabledFeatures&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;operatorEnabled&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;DIAMOND&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The changes also made it possible to add items at a specific position in the Creative inventory. Check the &lt;a href=&quot;https://maven.fabricmc.net/docs/fabric-api-0.68.1+1.19.3/net/fabricmc/fabric/api/itemgroup/v1/FabricItemGroupEntries.html&quot;&gt;FabricItemGroupEntries javadoc&lt;/a&gt; for details.&lt;/p&gt;

&lt;!-- TODO update link after the FAPI release --&gt;

&lt;h3 id=&quot;data-generation&quot;&gt;Data generation&lt;/h3&gt;
&lt;p&gt;A number of breaking changes have been made to the Data Generation API.&lt;/p&gt;

&lt;p&gt;Data generators now have to create a “pack” and add providers to the pack. (It’s like a resource pack - the provider generates a resource for a specific pack.) This can be done with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricDataGenerator#createPack&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;createBuiltinResourcePack&lt;/code&gt; for packs loadable by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ResouceManagerHelper#registerBuiltinResourcePack&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;FabricDataGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Pack&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pack&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dataGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createPack&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pack&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;YourProvider:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Data generator constructors now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricDataOutput&lt;/code&gt; as an argument instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DataGenerator&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generateStuff&lt;/code&gt; methods (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generateBlockLootTables&lt;/code&gt;) are now provided from the vanilla game and renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generate&lt;/code&gt;. They are also now public, not protected.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestBlockLootTableProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FabricBlockLootTableProvider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;TestBlockLootTableProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;FabricDataGenerator&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dataGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataGenerator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Renamed from generateBlockLootTables and now public&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;addDrop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SIMPLE_BLOCK&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For tag generators, the constructor must also take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CompletableFuture&amp;lt;RegistryWrapper.WrapperLookup&amp;gt;&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricTagProvider.DynamicRegistryTagProvider&lt;/code&gt; is now replaced with just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricTagProvider&lt;/code&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;configure&lt;/code&gt; method is used to add tags.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestBiomeTagProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FabricTagProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Biome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;TestBiomeTagProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;FabricDataOutput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CompletableFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;WrapperLookup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registriesFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RegistryKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BIOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registriesFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;WrapperLookup&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;getOrCreateTagBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;TagKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BIOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Identifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MOD_ID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;example&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;BiomeKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BADLANDS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;custom-world-generation&quot;&gt;Custom world generation&lt;/h3&gt;
&lt;p&gt;In the registry section we briefly mentioned that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BuiltinRegistries&lt;/code&gt; no longer holds the actual registries; more specifically, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BuiltinRegistries&lt;/code&gt; is no longer used during actual world generation. If your biome mod, structure mod, 1.19 message type mod etc. registers stuff into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BuiltinRegistries&lt;/code&gt;, you now need to generate its JSON and include it in the mod as a data pack.&lt;/p&gt;

&lt;p&gt;You can override the new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DataGeneratorEntrypoint.buildRegistry(RegistryBuilder registryBuilder)&lt;/code&gt; in your data gen entrypoint to add your modded entries the registry used for datageneration. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;buildRegistry&lt;/code&gt; is invoked asynchronously and the resulting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryWrapper.WrapperLookup&lt;/code&gt; can be passed to your data providers using a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CompletableFuture&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DataGeneratorEntrypoint&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fabricmc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fabric&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;datagen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;DataGeneratorEntrypoint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;// onInitializeDataGenerator goes here&lt;/span&gt;

	&lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;buildRegistry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryBuilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registryBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;registryBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addRegistry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BIOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ExampleBiomes:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bootstrap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Minecraft's BuiltinBiomes class is another good example.&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ExampleBiomes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RegistryKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Biome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;MODDED_BIOME_KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RegistryKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BIOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Identifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;modid&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;biome_name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bootstrap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Registerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Biome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;biomeRegisterable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;biomeRegisterable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MODDED_BIOME_KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;createBiome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A new data generator, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FabricDynamicRegistryGenerator&lt;/code&gt;, allows generating the JSON files from the previously-registered objects.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WorldgenProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FabricDynamicRegistryProvider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;WorldgenProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;FabricDataOutput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CompletableFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;WrapperLookup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registriesFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registriesFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;WrapperLookup&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Entries&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RegistryWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Biome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;biomeRegistry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getWrapperOrThrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RegistryKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BIOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ExampleBiomes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MODDED_BIOME_KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;biomeRegistry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getOrThrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ExampleBiomes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MODDED_BIOME_KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;textures&quot;&gt;Textures&lt;/h3&gt;
&lt;p&gt;The performance optimizations in 1.19.3 include texture loading changes. By default, textures used in a certain atlas (such as block texture atlas) must now be in the folder for the type of the atlas (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;textures/block&lt;/code&gt;). This affects some resource packs, which might be bundled in a mod.&lt;/p&gt;

&lt;p&gt;To use custom textures located elsewhere, an atlas configuration file should be added to the resource pack. See the &lt;a href=&quot;https://www.minecraft.net/en-us/article/minecraft-snapshot-22w46a&quot;&gt;22w46a update blogpost&lt;/a&gt; for more details.&lt;/p&gt;

&lt;p&gt;Fabric Textures API is removed entirely; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientSpriteRegistryCallback&lt;/code&gt; is replaced with atlas configuration files, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DependentSprite&lt;/code&gt; was practically unused.&lt;/p&gt;

&lt;h3 id=&quot;resource-loading&quot;&gt;Resource loading&lt;/h3&gt;
&lt;p&gt;There are many refactors to resource loading, such as using a custom filesystem to improve performance. However they should not affect most mods.&lt;/p&gt;

&lt;p&gt;One change made in the refactor is that resource packs now allow &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text&lt;/code&gt; to be used as the display name. With this change,&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ResourceManagerHelper#registerBuiltinResourcePack&lt;/code&gt; method can now take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text&lt;/code&gt;. The old &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; based method is now deprecated; use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text#literal&lt;/code&gt; for a hard-coded name.&lt;/p&gt;

&lt;p&gt;Mods that support additional resource types should now use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ResourceFinder&lt;/code&gt;. This, when given a resource manager, returns the map of IDs to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Resource&lt;/code&gt;s.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResourceFinder&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON_FINDER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResourceFinder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tiny_potatoes&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResourceFinder&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PNG_FINDER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResourceFinder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tiny_potatoes&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.png&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// to use:&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;JSON_FINDER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findResources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resourceManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;command-changes&quot;&gt;Command changes&lt;/h3&gt;
&lt;p&gt;Several command argument types are removed and consolidated. They include: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EnchantmentArgumentType&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EntitySummonArgumentType&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StatusEffectArgumentType&lt;/code&gt;. There are 2 new argument types that replace those.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryArgumentType&lt;/code&gt;, which is an argument type of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntry&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryPredicateArgumentType&lt;/code&gt;, which works like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryPredicateArgumentType&lt;/code&gt; but the entry is either named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntryList&lt;/code&gt; (tags) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntry&lt;/code&gt; (one entry)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;move-to-joml&quot;&gt;Move to JOML&lt;/h3&gt;
&lt;p&gt;Mojang has started using the JOML library for rendering-related math. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec3f&lt;/code&gt; is now replaced with JOML &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vector3f&lt;/code&gt;. Many of the functions have slightly different names. For example:&lt;/p&gt;
&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- import net.minecraft.util.math.Vec3f;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ import org.joml.Vector3f;
&lt;/span&gt;
- Vector3f vec;
&lt;span class=&quot;gd&quot;&gt;- float x = vec.getX();
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ Vec3f vec;
+ float x = vec.x();
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec3d&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec3i&lt;/code&gt; are unaffected.&lt;/p&gt;

&lt;h3 id=&quot;sounds&quot;&gt;Sounds&lt;/h3&gt;
&lt;p&gt;During the pre-release phase of 1.19.3, there were changes to how sounds are referenced and played.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Introduction: there are two ways a sound is referred to - “sound asset” defined by the client and identified by sound ID, and “sound event” used by the server and registered in a registry.&lt;/li&gt;
  &lt;li&gt;Previously, to play a registered sound event, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PlaySoundS2CPacket&lt;/code&gt; was used, and to play a custom (resource pack-defined) sound, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PlaySoundIdS2CPacket&lt;/code&gt; was used.&lt;/li&gt;
  &lt;li&gt;References to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SoundEvent&lt;/code&gt; are mostly replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Registry&amp;lt;SoundEvent&amp;gt;&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SoundEvent&lt;/code&gt; should now be constructed using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SoundEvent.of&lt;/code&gt;, which is transitively access-widened by Fabric API.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PlaySoundIdS2CPacket&lt;/code&gt; was removed. To play a custom sound, use direct registry entry (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntry.of(SoundEvent)&lt;/code&gt;).&lt;/li&gt;
  &lt;li&gt;Biome Modification API received a breaking change to accept &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RegistryEntry&amp;lt;SoundEvent&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SoundEvent&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;other-changes&quot;&gt;Other changes&lt;/h3&gt;
&lt;p&gt;Here are other miscellaneous changes in 1.19.3:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Feature flags were introduced. Currently, blocks, items, and entity types can be hidden behind a flag. “Experimental” features that aren’t enabled by a feature flag are still registered in a registry, but are ignored in most methods. Resource Condition API can now check feature flags.&lt;/li&gt;
  &lt;li&gt;For those who use the vanilla system for GUIs (instead of third-party APIs): a new grid-based GUI system is added. This can be used in place of the old way of positioning widgets, and reduces the need for hard-coded display positions.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ButtonWidget&lt;/code&gt; is now constructed using a builder.&lt;/li&gt;
  &lt;li&gt;Tooltips got a refactor to support item group related changes. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen#setTooltip&lt;/code&gt; methods are added; there are three overloads. They all have to be called at every render call. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setTooltip&lt;/code&gt; method is also available for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClickableWidget&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ButtonWidget.Builder&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Networking changes: chat preview was removed, and the game no longer requires a header packet to be sent when blocking messages. The client-side &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendChatMessage&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendCommand&lt;/code&gt; methods have been moved from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPlayerEntity&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPlayNetworkHandler&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Mobs using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Brain&lt;/code&gt; for control can now take advantage of functional &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; creation. This resembles React Hooks and is replacing the previous subclass-based approach in vanilla. See &lt;a href=&quot;https://maven.fabricmc.net/docs/yarn-1.19.3-rc1+build.2/net/minecraft/entity/ai/brain/task/TaskTriggerer.html&quot;&gt;javadoc&lt;/a&gt; for examples. &lt;!-- TODO replace link --&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack#isItemEqualIgnoreDamage&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ItemStack#areItemsEqualIgnoreDamage&lt;/code&gt; were removed. Either use standard &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isItemEqual&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;areItemsEqual&lt;/code&gt; or compare yourself.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JsonHelper#deserialize&lt;/code&gt; no longer permits &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;null&lt;/code&gt;. Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;deserializeNullable&lt;/code&gt; instead.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;yarn-renames&quot;&gt;Yarn renames&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;If you are using Mojang Mappings or other third-party mappings, you can skip this section.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;There are dozens of renames to fix wrong names and improve code readability. Here are some of the major renames:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;createAndScheduleBlockTick&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;createAndScheduleFluidTick&lt;/code&gt; is now simply&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scheduleBlockTick&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scheduleFluidTick&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OreBlock&lt;/code&gt; is renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExperienceDroppingBlock&lt;/code&gt; as it is used by a Sculk block.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WallStandingBlockItem&lt;/code&gt; is renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VerticallyAttachableBlockItem&lt;/code&gt; because it can now be used for hanging blocks as well.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AbstractButtonBlock&lt;/code&gt; is renamed to ButtonBlock as it is no longer &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abstract&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ScreenHandler#transferSlot&lt;/code&gt; is renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quickMove&lt;/code&gt; to be more descriptive.&lt;/li&gt;
  &lt;li&gt;Shaders and programs were renamed. A program is composed of vertex and fragment shaders; this was previously swapped. See &lt;a href=&quot;https://github.com/FabricMC/yarn/pull/3384&quot;&gt;the pull request&lt;/a&gt; for details.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, Mojang have changed their versioning scheme such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version.</summary></entry><entry><title type="html">Fabric for Minecraft 1.19</title><link href="https://fabricmc.net/2022/06/07/119.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.19" /><published>2022-06-07T00:00:00+00:00</published><updated>2022-06-07T00:00:00+00:00</updated><id>https://fabricmc.net/2022/06/07/119</id><content type="html" xml:base="https://fabricmc.net/2022/06/07/119.html">&lt;p&gt;Minecraft 1.19: &lt;em&gt;The Wild Update&lt;/em&gt; is now released, and along with it, updates for Fabric itself and many mods already.&lt;/p&gt;

&lt;h2 id=&quot;for-players&quot;&gt;For Players&lt;/h2&gt;

&lt;p&gt;Players should use Fabric Installer 0.11.0 and Fabric Loader 0.14.6 (at the time of writing) to play on Minecraft 1.19.&lt;/p&gt;

&lt;p&gt;Plenty of mods have already updated to 1.19 already, and we expect many more to be on the way. Please be patient as mod developers dedicate some of their free time to updating their mods to this new version.&lt;/p&gt;

&lt;h2 id=&quot;fabric-changes-for-mod-developers&quot;&gt;Fabric Changes For Mod Developers&lt;/h2&gt;

&lt;p&gt;Developers should use Loom 0.12 (at the time of writing) to develop for Minecraft 1.19.&lt;/p&gt;

&lt;p&gt;Minecraft 1.19 introduces several code changes to major developer-facing APIs. In addition, Fabric has introduced several new ways for mod developers to safely develop server-side mods without accidentally relying on client-exclusive code.&lt;/p&gt;

&lt;h3 id=&quot;new-fabric-api-features&quot;&gt;New Fabric API features&lt;/h3&gt;
&lt;p&gt;Fabric API added many features since the last update blog post:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Data Generation: easily generate JSON files for blocks, recipes, advancements, etc… (modmuss50)&lt;/li&gt;
  &lt;li&gt;Entity API Lookup: flexible retrieval of object instances from entities. (deirn)&lt;/li&gt;
  &lt;li&gt;Resource Conditions: only enable select recipes, advancements, etc… when specific conditions are met. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Transitive Access Widener module: directly use many private/protected classes and methods in vanilla. (Juuxel)&lt;/li&gt;
  &lt;li&gt;FluidVariant Attributes: define and access name, temperature, etc… of fluids. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Convention Tags: define standard tags that Fabric mods can use, and register vanilla entries to them. (dexman545)&lt;/li&gt;
  &lt;li&gt;Loot API v2: replacement for the Loot Table API v1, with many improvements. The new version uses interface injection and transitive access wideners to implement most of its functionalities. Additionally, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootTableLoadingCallback&lt;/code&gt; was replaced with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootTableEvents.REPLACE&lt;/code&gt; event (for replacing an entire loot table) and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LootTableEvents.MODIFY&lt;/code&gt; event (for modifying part of a loot table). &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;REPLACE&lt;/code&gt; runs before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MODIFY&lt;/code&gt;, and if one mod replaces a loot table, the callback loop will exit early and no other mod can replace the loot table. (Juuxel)&lt;/li&gt;
  &lt;li&gt;Message API (experimental): server-side manipulation of messages sent to players. (apple502j)&lt;/li&gt;
  &lt;li&gt;And many smaller features and bug fixes.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;deprecated-fabric-api-modules&quot;&gt;Deprecated Fabric API Modules&lt;/h3&gt;
&lt;p&gt;Fabric API modules that are deprecated (including the aforementioned Loot Table API v1, and the Command API v1) are no longer present in the default Maven artifact. Mods that wish to build against those modules must now depend on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.fabricmc.fabric-api:fabric-api-deprecated&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;build.gradle&lt;/code&gt; file for them to build successfully:&lt;/p&gt;

&lt;div class=&quot;language-groovy highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;modImplementation&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should not impact players in any way, as the jar that is downloaded from CurseForge and Modrinth still contains all the modules.&lt;/p&gt;

&lt;h3 id=&quot;class-loader-isolation-and-mixins&quot;&gt;Class Loader Isolation and Mixins&lt;/h3&gt;
&lt;p&gt;Fabric Loader 0.14 improves class loader isolation. This allows Mixins to apply to libraries that the game uses, such as Brigadier, DataFixerUpper, or Authlib. Mods using workarounds to allow mixins to apply to such libraries should remove the workaround.&lt;/p&gt;

&lt;h3 id=&quot;split-client-and-common-code&quot;&gt;Split Client And Common Code&lt;/h3&gt;
&lt;p&gt;In Loom 0.12 and Loader 0.14, an experimental option has been added to require all client code to be moved into its own sourceset: resources and common code will be in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/main&lt;/code&gt;, while client-only code will be in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/client&lt;/code&gt;.
This provides a compile-time guarantee against calling client-only Minecraft code on the server. When building, Loom still produces a single jar that works on both the client and the server.&lt;/p&gt;

&lt;p&gt;To enable split source sets, add the following to your mod’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;build.gradle&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-groovy highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;splitEnvironmentSourceSets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;mods&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;modid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sourceSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sourceSets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;main&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sourceSet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sourceSets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;client&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As your mod will now be split across two sourcesets, you will need to use the new DSL to define your mod’s sourcesets. This enables Fabric Loader to group your mod’s classpath together.&lt;/p&gt;

&lt;h2 id=&quot;minecraft-changes-for-mod-developers&quot;&gt;Minecraft Changes For Mod Developers&lt;/h2&gt;
&lt;h3 id=&quot;text-changes&quot;&gt;Text Changes&lt;/h3&gt;

&lt;p&gt;Text should now be created using static methods provided by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Text&lt;/code&gt; interface rather than by using constructors. For example:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- new LiteralText(content);
- new TranslatableText(key, args);
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ Text.of(content);
+ Text.translatable(key, args);
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Yarn, the old classes are now called text contents (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TranslatableTextContent&lt;/code&gt;) because they have been separated from the text structure (style and siblings). Mod developers will rarely need to interact with these text content classes.&lt;/p&gt;

&lt;h3 id=&quot;command-changes&quot;&gt;Command Changes&lt;/h3&gt;

&lt;p&gt;Command arguments have been refactored to look up registry entries using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CommandRegistryAccess&lt;/code&gt; class, a wrapper around the registry manager. The registry access is an optimization for handling missing tag references, but must be passed into arguments during command registration:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- CommandManager.argument(&quot;item&quot;, ItemStackArgumentType.itemStack())
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ CommandManager.argument(&quot;item&quot;, ItemStackArgumentType.itemStack(registryAccess))
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you use Fabric API to register commands, you should switch to the version 2 of the Fabric Command API, which contains a major breaking change to provide the registry access. Unlike most of other breaking changes, this is an entirely new API with a new package.&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- import net.fabricmc.fabric.api.command.v1.CommandRegistrationCallback;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ import net.fabricmc.fabric.api.command.v2.CommandRegistrationCallback;
&lt;/span&gt;
- CommandRegistrationCallback.EVENT.register((dispatcher, dedicated) -&amp;gt; {
&lt;span class=&quot;gd&quot;&gt;-    if (dedicated) {
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&amp;gt; {
+    if (environment.dedicated) {
&lt;/span&gt;         dispatcher.register(...);
     }
  });
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While version 1 of the API still exists for server-side registration, client commands functionality is no longer present in that version. If you use client commands, you must use version 2, which now uses an event for registration as well:&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- import net.fabricmc.fabric.api.client.command.v1.ClientCommandManager;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ import net.fabricmc.fabric.api.client.command.v2.ClientCommandRegistrationCallback;
&lt;/span&gt;
- ClientCommandManager.DISPATCHER.register(...);
&lt;span class=&quot;gi&quot;&gt;+ ClientCommandRegistrationCallback.EVENT.register((dispatcher, registryAccess) -&amp;gt; {
+     dispatcher.register(...);
+ });
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;secure-chat&quot;&gt;Secure Chat&lt;/h3&gt;
&lt;p&gt;Mojang has introduced a feature to cryptographically sign chat messages to detect whether the server modified the sent messages. Players sign all chat messages using a Mojang-provided private key, which the server and the clients verify. If the server modifies the message unexpectedly, the message cannot be verified, and clients can opt in to hide those messages.&lt;/p&gt;

&lt;p&gt;Along with this, there were several protocol changes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The client now wraps the message with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chat.type.text&lt;/code&gt; message (or the like) instead of the server. To customize this, a custom message type (called “chat type” by the game) can be registered. (See below for details.)&lt;/li&gt;
  &lt;li&gt;Commands are sent in a separate packet, not as a slash-prefixed chat message.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This mostly impacts mods that change the chat message server-side in some ways like translating or coloring. To prevent the messages from being marked as “unverified”, the mod has to use one of the two options:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Client-side message decoration. A server can register a custom &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MessageType&lt;/code&gt; using a data pack (just like custom world generation), which consists of various “decorations” applied to the whole message. &lt;a href=&quot;https://misode.github.io/chat-type/&quot;&gt;Chat Type Generator&lt;/a&gt; is a third-party tool that can generate the JSON file defining custom message types easily. Then, when sending a message, the mod should pass the registry key of the message type to be used.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;RegistryKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;MessageType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;typeKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RegistryKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Registry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MESSAGE_TYPE_KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Identifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;modid&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;orange&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// when sending&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getPlayerManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;broadcast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;This is in orange!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;typeKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Server-side message decorator. This can be used to modify the message content itself, as well as the styling applied. Fabric API provides a way to register a custom message decorator.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;ServerMessageDecoratorEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;EVENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Used to provide better compatibility across mods&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ServerMessageDecoratorEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;CONTENT_PHASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tater&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; :tiny_potato:&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CompletableFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;completedFuture&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that to sign the message produced by the message decorator, the server must enable “chat preview” by setting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;previews-chat=true&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;server.properties&lt;/code&gt;. When clients join such servers, they will receive a warning that the typed message will be sent to show the preview before sending. Clients can disable the chat previews via the options, which causes the decorated part of the message to be marked as “unsigned” (but not the original message).&lt;/p&gt;

&lt;p&gt;Finally, it is recommended to check the Yarn javadoc, which provides documentation on how chat messages are handled.&lt;/p&gt;

&lt;h3 id=&quot;random-changes&quot;&gt;Random Changes&lt;/h3&gt;

&lt;p&gt;The JDK &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;java.util.Random&lt;/code&gt; class has been replaced entirely with Mojang’s own interface, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.minecraft.util.math.random.Random&lt;/code&gt;. Several implementations are available to provide different levels of thread safety. For most use cases, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Random.create()&lt;/code&gt; should be used to create the random instance. Note that this random instance is not safe for multithreaded use. &lt;!-- Random.createThreadSafe is deprecated, maybe modders shouldn't use random across thread --&gt;&lt;/p&gt;

&lt;h3 id=&quot;option-changes&quot;&gt;Option Changes&lt;/h3&gt;

&lt;p&gt;Client options were completely refactored. There is a class, named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SimpleOption&lt;/code&gt;, that handles everything an option needs - rendering, validation, serialization, etc. An instance holds its name, current value, default value, and a set of callbacks to provide customizable behaviors. For example, a slider-based integer option would use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ValidatingIntSliderCallbacks&lt;/code&gt;, while a button-based option would use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PotentialValuesBasedCallbacks&lt;/code&gt;. To get the value, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getValue()&lt;/code&gt;, and to set the value while validating, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setValue()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GameOptions&lt;/code&gt; class holds all options used by the vanilla game.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;GameOptions&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MinecraftClient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;GraphicsMode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;graphicsMode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getGraphicsMode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getFov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// setValue triggers validation, so this cannot set gamma more than the limit (1.0)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getGamma&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;5.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;tag-changes&quot;&gt;Tag Changes&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tag&lt;/code&gt; class has been removed, after having been made largely obsolete in 1.18.2 due to the addition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TagKey&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The inner classes, which are still in use, have been moved to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TagBuilder&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TagEntry&lt;/code&gt;. The remaining usages in functions now use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Collection&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TagFile&lt;/code&gt; has been added, which is used to refer to a specific tag JSON file.&lt;/p&gt;

&lt;p&gt;Additionally, many vanilla tags have been added or modified in 1.19. Ensure your modded content is in all the applicable tags. For example, villager workstations should now be added to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minecraft:acquirable_job_site&lt;/code&gt; tag.&lt;/p&gt;

&lt;h3 id=&quot;structure-changes&quot;&gt;Structure Changes&lt;/h3&gt;

&lt;p&gt;The game no longer refers to generated structures as “configured structure features”. Yarn mapping has renamed and several structure-related classes to handle this change; for example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StructureFeature&lt;/code&gt; has been renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Structure&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To avoid conflicts and to match the terminology used by custom world generation, the old &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Structure&lt;/code&gt; class was renamed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StructureTemplate&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StructureManager&lt;/code&gt; is now called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StructureTemplateManager&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;seeded-sounds&quot;&gt;Seeded Sounds&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;playSound&lt;/code&gt; methods now have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seed&lt;/code&gt; parameter. This seed is used to determine which sound is played for a sound event; as a result of this change, two players hearing the same sound event will now hear the same sound. Most mods will not need to change their code to support seeded sounds, as the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;playSound&lt;/code&gt; methods are overloaded to provide a default random seed.&lt;/p&gt;</content><author><name></name></author><summary type="html">Minecraft 1.19: The Wild Update is now released, and along with it, updates for Fabric itself and many mods already.</summary></entry><entry><title type="html">Fabric for Minecraft 1.18</title><link href="https://fabricmc.net/2021/11/30/118.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.18" /><published>2021-11-30T00:00:00+00:00</published><updated>2021-11-30T00:00:00+00:00</updated><id>https://fabricmc.net/2021/11/30/118</id><content type="html" xml:base="https://fabricmc.net/2021/11/30/118.html">&lt;p&gt;&lt;img src=&quot;/assets/cliffs.png&quot; alt=&quot;Cliffs&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Minecraft 1.18: &lt;em&gt;Caves &amp;amp; Cliffs, Part 2&lt;/em&gt; is now released, and along with it, updates for Fabric itself and many mods already.&lt;/p&gt;

&lt;p&gt;The release of Fabric for Minecraft 1.17 was almost 6 months ago. Since then, we have updated to all 7 experimental snapshots, 8 snapshots, 8 pre-releases, 4 release candidates, and the final release version of Minecraft 1.18.&lt;/p&gt;

&lt;p&gt;This blog post will go over what the 1.18 update means for both players and developers.&lt;/p&gt;

&lt;h2 id=&quot;for-players&quot;&gt;For Players&lt;/h2&gt;

&lt;p&gt;Players should use Fabric Installer 0.9.0 and Fabric Loader 0.12.5 (at the time of writing) to play on Minecraft 1.18.&lt;/p&gt;

&lt;p&gt;Hundreds of mods have already been updated to support 1.18 and we expect there will be many new and updated mods being released soon. We kindly ask that you be patient as mod developers update their mods.&lt;/p&gt;

&lt;h3 id=&quot;all-of-fabric-5-modpack&quot;&gt;All of Fabric 5 Modpack&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/aof5.png&quot; alt=&quot;AOF 5&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The fifth edition of the All of Fabric modpack will be available on CurseForge very soon.&lt;/p&gt;

&lt;p&gt;AOF5 includes a wide selection of 1.18 Fabric mods. It will continue to receive updates as mods get ported, and new mods get created.&lt;/p&gt;

&lt;h2 id=&quot;for-mod-developers&quot;&gt;For Mod Developers&lt;/h2&gt;

&lt;p&gt;Various technical changes have been made in both Minecraft and Fabric that will affect mod development for 1.18.&lt;/p&gt;

&lt;p&gt;As always, you can use &lt;a href=&quot;https://fabricmc.net/versions.html&quot;&gt;the versions page&lt;/a&gt; to determine the recommended versions of Yarn, Fabric Loader, Fabric API, and Loom for any version of Minecraft.&lt;/p&gt;

&lt;h3 id=&quot;java-17&quot;&gt;Java 17&lt;/h3&gt;

&lt;p&gt;Once again, Minecraft has updated its Java version, this time to Java 17. This means mods can be compiled for Java 17 and use the latest features.&lt;/p&gt;

&lt;p&gt;While not as large a step up as the previous move to Java 16 made in 1.17, Java 17 still provides some new features that can be used, such as Sealed Classes.&lt;/p&gt;

&lt;p&gt;To set up a development environment you will need to use Java 17, Loom 0.10, and Gradle 7.3 or higher. If you need some help getting set up, please go to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#mod-dev-gradle-ides&lt;/code&gt; on the &lt;a href=&quot;https://discord.gg/v6v4pMv&quot;&gt;official Discord server&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://github.com/FabricMC/fabric-example-mod/commit/57e84b576d24f1b80e1701d4759773234b1ee8ba&quot;&gt;this commit&lt;/a&gt; for an example of how the example mod was updated to accomodate this change.&lt;/p&gt;

&lt;h3 id=&quot;fabric-api&quot;&gt;Fabric API&lt;/h3&gt;

&lt;p&gt;Fabric API has been fully updated to Java 17 and 1.18.&lt;/p&gt;

&lt;p&gt;Since 1.17 released, we have added a number of new APIs that can be used:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Fluid and Item Transfer API. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Tag Factory API, allows making tags for any registry (deirn)&lt;/li&gt;
  &lt;li&gt;Add sleeping events. (Juuxel)&lt;/li&gt;
  &lt;li&gt;Add flattening, stripping and tilling registries. (Juuxel)&lt;/li&gt;
  &lt;li&gt;Add a Game Test API to allow the use of Mojang’s testing framework. (modmuss50)&lt;/li&gt;
  &lt;li&gt;Add tag-based mining level API, fix and deprecate FabricBlockSetting.breakByTool. (Juuxel)&lt;/li&gt;
  &lt;li&gt;Add event phases to allow ordering between listeners. (Technici4n)&lt;/li&gt;
  &lt;li&gt;Add DimensionRenderingRegistry to register custom renderers for the sky or weather. (Waterpicker)&lt;/li&gt;
  &lt;li&gt;Add custom fluid renderers and enhanced vanilla fluid renderer customisation. (FoxShadew)&lt;/li&gt;
  &lt;li&gt;Add elytra flight API (Technici4n)&lt;/li&gt;
  &lt;li&gt;Add Oxidizable and Waxable Blocks registries (Shnupbups)&lt;/li&gt;
  &lt;li&gt;a variety of smaller or more focused additions and enhancements (&lt;a href=&quot;https://github.com/FabricMC/fabric/commits/1.18&quot;&gt;see GitHub&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Most of these new features have also been added to the 1.17 version of Fabric API.&lt;/p&gt;

&lt;h3 id=&quot;world-generation&quot;&gt;World Generation&lt;/h3&gt;

&lt;p&gt;Minecraft 1.18 overhauls many systems used in world generation. Any mods that include world generation will, as a result, need to adjust to these changes.&lt;/p&gt;

&lt;p&gt;If you need some help with these changes, please go to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#mod-dev-worldgen&lt;/code&gt; on the &lt;a href=&quot;https://discord.gg/v6v4pMv&quot;&gt;official Discord server&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;yarn&quot;&gt;Yarn&lt;/h3&gt;

&lt;p&gt;Since 1.17.1, there have been almost 200 commits to Yarn from many contributors, all working to improve coverage and quality.&lt;/p&gt;

&lt;p&gt;Trying to document the Minecraft codebase is a massive job, especially as it is constantly evolving. Improving the documentation provided by Yarn is an ongoing effort by all of the contributors.&lt;/p&gt;

&lt;p&gt;You can view the online Javadoc for 1.18 Release Candidate 4 &lt;a href=&quot;https://maven.fabricmc.net/docs/yarn-1.18-rc4+build.1/&quot;&gt;here&lt;/a&gt; or inline with the decompiled and named Minecraft sources directly attached in your IDE.&lt;/p&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Fabric Loader 0.12</title><link href="https://fabricmc.net/2021/10/03/loader-0120.html" rel="alternate" type="text/html" title="Fabric Loader 0.12" /><published>2021-10-03T00:00:00+00:00</published><updated>2021-10-03T00:00:00+00:00</updated><id>https://fabricmc.net/2021/10/03/loader-0120</id><content type="html" xml:base="https://fabricmc.net/2021/10/03/loader-0120.html">&lt;p&gt;This release is a major overhaul of the core features in Fabric Loader, including everything that deals with finding and choosing mods. Users should benefit from greatly improved error messages and quite a few options to customize their install. Mods have several new tools to achieve their goals more easily.&lt;/p&gt;

&lt;p&gt;Fabric Loader 0.12 is not yet available through the normal means, see below for how to get it.&lt;/p&gt;

&lt;h4 id=&quot;changelog&quot;&gt;Changelog&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;added support for the bundler based server distribution introduced by the MC snapshot 21w39a (Player)&lt;/li&gt;
  &lt;li&gt;added support for global access wideners (shartte)&lt;/li&gt;
  &lt;li&gt;added ObjectShare mechanism for mods to interact indirectly (Player)&lt;/li&gt;
  &lt;li&gt;changed package structure for clear api/implementation split, may break some mods that use internals beyond what is now provided by legacy support API (Player)&lt;/li&gt;
  &lt;li&gt;changed project structure to isolate MC specific code, runtime test dependencies and legacy API (modmuss50)&lt;/li&gt;
  &lt;li&gt;fixed mod dependency inspection API and made it more useful (Player)&lt;/li&gt;
  &lt;li&gt;updated Mixin (modmuss50, Player)&lt;/li&gt;
  &lt;li&gt;added Mixin backwards compatibility mechanism, Mixin behavior will depend on the minimum fabricloader version requested by the mod’s dependency definition (Player)&lt;/li&gt;
  &lt;li&gt;changed mod discovery for better reliability, speed and memory efficiency (Player)&lt;/li&gt;
  &lt;li&gt;added &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.addMods&lt;/code&gt; system property and argument to configure additional mod sources: individual jar files, directories containing jars, directories representing an extracted mod or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;-prefixed files listing the previous one line at a time (Player)&lt;/li&gt;
  &lt;li&gt;changed mod resolution to gracefully handle multiple instances of the same mod, produce better errors, give mod dependency issue guidance, handle nested jars properly and allow for more customization (Player)&lt;/li&gt;
  &lt;li&gt;changed mod load order to be random in-dev (see &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.debug.disableModShuffle&lt;/code&gt; system property) and explicitly sorted by mod id in production (not a specification, may change without notice) (Player)&lt;/li&gt;
  &lt;li&gt;added system property &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.debug.loadLate&lt;/code&gt; to work around mod load order bugs (Player)&lt;/li&gt;
  &lt;li&gt;added &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.debug.throwDirectly&lt;/code&gt; system property to let errorneous entrypoints fail immediately, helps debugging them through isolation (Player)&lt;/li&gt;
  &lt;li&gt;changed exposing the game and its libraries to be as late as possible to prevent accidental too-early accesses (Player)&lt;/li&gt;
  &lt;li&gt;dropped most library dependencies to avoid conflicts with the game (modmuss50, Player)&lt;/li&gt;
  &lt;li&gt;added exception display to the error screen and made it show for crashes too early for MC to normally display by itself (Chocohead)&lt;/li&gt;
  &lt;li&gt;added error screen support for MacOS (Player)&lt;/li&gt;
  &lt;li&gt;fixed various MacOS error screen issues including the dock icon, title, dark mode, stuck on close (modmuss50)&lt;/li&gt;
  &lt;li&gt;fixed normalization of special MC versions like combat test, april fools or experimental releases (Chocohead)&lt;/li&gt;
  &lt;li&gt;various smaller changes and fixes&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;how-to-test&quot;&gt;How to test&lt;/h2&gt;

&lt;p&gt;Due to the size of the changes we are releasing this version in stages, once we are happy everything is working we will release it to everyone. If you do find an issue please make sure to report it on our &lt;a href=&quot;https://github.com/FabricMC/fabric-loader/issues&quot;&gt;Github Repository&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Initially the installer won’t offer Loader 0.12 by itself, it has to be installed as follows:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Go to &lt;a href=&quot;https://fabricmc.net/use/&quot;&gt;https://fabricmc.net/use/&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Click “Show other versions” and select &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.8.0&lt;/code&gt;, download the installer&lt;/li&gt;
  &lt;li&gt;Download Fabric Loader 0.12.0 from here: &lt;a href=&quot;https://maven.fabricmc.net/net/fabricmc/fabric-loader/0.12.0/fabric-loader-0.12.0.jar&quot;&gt;fabric-loader-0.12.0.jar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Run the installer and go to the Client or Server tab as desired&lt;/li&gt;
  &lt;li&gt;Select the desired Minecraft version as usual&lt;/li&gt;
  &lt;li&gt;Select &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(select custom)&lt;/code&gt; at the very bottom of the Loader Version list&lt;/li&gt;
  &lt;li&gt;Configure anything else as desired and start the install as usual by using the Install button&lt;/li&gt;
  &lt;li&gt;The installer will now ask for the Fabric Loader JAR, provide it with the one downloaded in step 3&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;A Fabric Installer version older than 0.8.0 will not support this procedure.&lt;/p&gt;

&lt;h4 id=&quot;mod-developers&quot;&gt;Mod Developers&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;Ensure you are using Loom 0.7 or higher. Loom 0.10 is required to use transitive access wideners and develop on 1.18 snapshots.&lt;/li&gt;
  &lt;li&gt;Change your loader version in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gradle.properties&lt;/code&gt; to be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.12.0&lt;/code&gt; and reload your gradle project.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;mod-resolution-changes&quot;&gt;Mod resolution changes&lt;/h2&gt;

&lt;p&gt;Fabric Loader 0.12.0 will no longer refuse multiple versions of the same mod, some but not all of these may even have unmet dependencies. It will select the latest compatible version if more than one option is present.&lt;/p&gt;

&lt;p&gt;If mod resolution fails due to unmet dependencies Loader will now try to compute a possible solution in addition to only stating what the issue was. It also tries to come up with a much better error message than before, unhelpful “empty clause” errors should be gone.&lt;/p&gt;

&lt;h2 id=&quot;fabricdebugloadlate&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.debug.loadLate&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Sometimes mods make false assumptions about the load order of mods, which limits their compatibility unintentionally. Mod load order is not specified and depends on implementation details that may change with a Fabric Loader release. Version 0.12 is one of these and it is impractical to emulate the old behavior.&lt;/p&gt;

&lt;p&gt;We have added a workaround for load order bugs in the form of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.debug.loadLate&lt;/code&gt; system property, which will delay the specified mods to load later than all other mods. For example, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;someMod&lt;/code&gt; required a block from another mod that’s being created in the same startup phase, adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Dfabric.debug.loadLate=someMod&lt;/code&gt; moves &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;someMod&lt;/code&gt; behind all other mods, including the one supplying the block it needs.&lt;/p&gt;

&lt;h2 id=&quot;fabricaddmods&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.addMods&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Fabric Loader normally loads mods from the mods directory, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.addMods&lt;/code&gt; system property or game argument allows specifying more. It takes a list of paths separated by the operation system specific path separator (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;&lt;/code&gt; on Windows, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:&lt;/code&gt; elsewhere).&lt;/p&gt;

&lt;p&gt;Supported options for the paths are:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;mod jar location&lt;/li&gt;
  &lt;li&gt;directory location containing mod jars (searched recursively)&lt;/li&gt;
  &lt;li&gt;directory location containing an unpacked mod (for development purposes, detected by the presence of fabric.mod.json)&lt;/li&gt;
  &lt;li&gt;mod list file location prefixed by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;, e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Dfabric.addMods=@/path/to/extraMods.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A mod list file contains any of the above supported paths except another mod list file, one per line.&lt;/p&gt;

&lt;p&gt;Paths can be absolute or relative to the working directory.&lt;/p&gt;

&lt;h2 id=&quot;mixin-compatibility&quot;&gt;Mixin compatibility&lt;/h2&gt;

&lt;p&gt;Mixin has been changing its implementation in such a way that mixins that are correct and working on one version may no longer work correctly or at all in a newer version. This was necessary to fix bugs in its local variable detection logic.&lt;/p&gt;

&lt;p&gt;Fabric adds a mechanism to emulate the Mixin behavior bundled with the least Loader version a mod depends upon. If the mod requires an old Loader version (or none at all), its Mixins will be processed in line with the old Mixin behavior. If it however depends on Loader 0.12.0, which comes with Fabric Mixin 0.10.2+mixin.0.8.4, it’ll use the native behavior that comes with that release and currently represents the latest&amp;amp;greatest.&lt;/p&gt;

&lt;p&gt;Mods are highly encouraged to declare the minimum Fabric Loader dependency to reflect the minimum version they were tested against. If they need the latest Mixin behavior and fixes, they also need to depend on the latest fabricloader version explicitly.&lt;/p&gt;

&lt;p&gt;For Fabric Loader 0.12.0 this can be done as follows:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;In the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric.mod.json&lt;/code&gt; add the following dependency&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-json=&quot;&gt;&quot;depends&quot;: {
   &quot;fabricloader&quot;: &quot;&amp;gt;=0.12.0&quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The lack of suitable dependency declaration will always force-enable legacy behavior for the respective mod! This is undesirable for newly developed mods, but keeps older mods working.&lt;/p&gt;

&lt;h2 id=&quot;objectshare&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ObjectShare&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;The object share is very similar to a String-indexed Java &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Map&lt;/code&gt; with arbitrary values. It offers the usual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;put&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;putIfAbsent&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;remove&lt;/code&gt; operations and additionally &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;whenAvailable&lt;/code&gt; to listen for additions in cases without clear ordering.&lt;/p&gt;

&lt;p&gt;Its primary purpose is inter-mod communication. One mod can put some data into it, another mod can pull it back out. Active interactions are possible by publishing and using objects with interfaces like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Function&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Consumer&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Contrary to any regular API the object share allows mod interaction without even a compile time dependency, removing friction for simple purposes. This case requires commonly available types/interfaces like the ones provided by Java, Minecraft or Fabric API (String, Integer, List, Map, Identifier, NbtCompound, Event, …). Custom types are of course still possible, but don’t carry these benefits.&lt;/p&gt;</content><author><name></name></author><summary type="html">This release is a major overhaul of the core features in Fabric Loader, including everything that deals with finding and choosing mods. Users should benefit from greatly improved error messages and quite a few options to customize their install. Mods have several new tools to achieve their goals more easily.</summary></entry><entry><title type="html">Fabric for Minecraft 1.17</title><link href="https://fabricmc.net/2021/06/08/117.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.17" /><published>2021-06-08T00:00:00+00:00</published><updated>2021-06-08T00:00:00+00:00</updated><id>https://fabricmc.net/2021/06/08/117</id><content type="html" xml:base="https://fabricmc.net/2021/06/08/117.html">&lt;p&gt;Minecraft 1.17: &lt;em&gt;Caves &amp;amp; Cliffs, Part 1&lt;/em&gt; is now released, and along with it, Fabric itself and many mods already.&lt;/p&gt;

&lt;p&gt;The release of &lt;a href=&quot;https://fabricmc.net/2020/06/23/116.html&quot;&gt;Fabric for Minecraft 1.16&lt;/a&gt; was almost a year ago. Since then, we have updated to all 48 snapshot and release versions of Minecraft. We recently released a &lt;a href=&quot;https://fabricmc.net/2021/05/27/117-for-developers.html&quot;&gt;blog post&lt;/a&gt; covering what the 1.17 update means for mod developers.&lt;/p&gt;

&lt;h2 id=&quot;all-of-fabric-4-modpack&quot;&gt;All Of Fabric 4 Modpack&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/aof4.png&quot; alt=&quot;AOF 4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The fourth edition of the All Of Fabric modpack will available on Curseforge very soon.&lt;/p&gt;

&lt;p&gt;AOF4 includes a wide slection of 1.17 Fabric mods. It will continue to receive updates as mods get ported, and new mods get created.&lt;/p&gt;</content><author><name></name></author><summary type="html">Minecraft 1.17: Caves &amp;amp; Cliffs, Part 1 is now released, and along with it, Fabric itself and many mods already.</summary></entry><entry><title type="html">Minecraft 1.17 for Mod Developers</title><link href="https://fabricmc.net/2021/05/27/117-for-developers.html" rel="alternate" type="text/html" title="Minecraft 1.17 for Mod Developers" /><published>2021-05-27T00:00:00+00:00</published><updated>2021-05-27T00:00:00+00:00</updated><id>https://fabricmc.net/2021/05/27/117-for-developers</id><content type="html" xml:base="https://fabricmc.net/2021/05/27/117-for-developers.html">&lt;p&gt;Minecraft 1.17 has just entered its pre-release cycle meaning that a full stable release is only a few weeks away. When it is released we will have a player-oriented blog post, this post is aimed towards mod developers.&lt;/p&gt;

&lt;p&gt;The pre-releases are a great time to start updating your mods in preparation for the final release. In the past most mods updated during the pre-release stage kept working on the final stable release with few or no further changes.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/goat.png&quot; alt=&quot;A goat in a geode&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;java-16&quot;&gt;Java 16&lt;/h2&gt;

&lt;p&gt;Minecraft 1.17 is now built against Java 16; this is a big step up from Java 8 and will affect modders. To set up a development environment you will need to use Java 16, Gradle 7 and fabric-loom 0.8 or higher. In most cases this will not break your existing code (excluding the normal porting procedure). There is a 1.17 branch of the &lt;a href=&quot;https://github.com/FabricMC/fabric-example-mod/tree/1.17&quot;&gt;fabric-example-mod&lt;/a&gt; that should help get you started. Look at the &lt;a href=&quot;https://github.com/FabricMC/fabric-example-mod/compare/29c522536fc16233833221e22eed3f106c0726bc...1.17&quot;&gt;1.17+Java 16 migration changes&lt;/a&gt; which should apply similarly to most mods. We have created a specific channel named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#mod-dev-gradle-ides&lt;/code&gt; on the &lt;a href=&quot;https://discord.gg/v6v4pMv&quot;&gt;official Discord server&lt;/a&gt; if you need some help with getting setup.&lt;/p&gt;

&lt;p&gt;We have used this opportunity to migrate most of the modder- and contributor-facing tools to Java 16. Player-facing projects only use Java 16 if Minecraft doesn’t require it anyway in all relevant scenarios. The Fabric Loader and Installer, and their dependency libraries, will still target Java 8 as they are cross-version.&lt;/p&gt;

&lt;h2 id=&quot;fabric-api&quot;&gt;Fabric API&lt;/h2&gt;

&lt;p&gt;Fabric API has been fully updated to Java 16 and 1.17. It doesn’t use any Java 16 features yet, nor will it break compatibility to adopt any. New or updated modules may introduce records and other features into the API where it makes sense, the implementation is expected to use Java 16 features where it doesn’t harm necessary backporting too much.&lt;/p&gt;

&lt;p&gt;Since 1.16 released, we have added a number of new APIs that can be used:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Reworked networking API, closer to what the vanilla network protocol allows (i509VCB, liach)&lt;/li&gt;
  &lt;li&gt;World Renderer events for a variety of hooks to render custom world content outside the usual facilities and some behavior modification opportunities to e.g. customize block outlines (grondag)&lt;/li&gt;
  &lt;li&gt;Screen API with many events to react to or influence behavior in GUIs (i509VCB)&lt;/li&gt;
  &lt;li&gt;Client Side Commands to use command input for client purposes like visual config changes (Juuxel)&lt;/li&gt;
  &lt;li&gt;API Lookup API to obtain API references without having to attach interfaces to classes directly and help with context binding, a building block for universal APIs like Fluid I/O (Technici4n)&lt;/li&gt;
  &lt;li&gt;a variety of smaller or more focused additions and enhancements (see GitHub)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;yarn&quot;&gt;Yarn&lt;/h2&gt;

&lt;h3 id=&quot;constants&quot;&gt;Constants&lt;/h3&gt;

&lt;p&gt;In 1.17, Mojang no longer strips out unused code including the constant fields that are inlined by the Java compiler. We have seamlessly integrated &lt;a href=&quot;https://github.com/FabricMC/unpick&quot;&gt;unpick&lt;/a&gt; (created by Daomephsta) into the Fabric toolchain to undo some of this inlining. Once you have updated your development environment to 1.17, you can also use these constants in your mod code just like you would with any other field.&lt;/p&gt;

&lt;h4 id=&quot;before&quot;&gt;Before&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;Note the hard to understand flag &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;26&lt;/code&gt; passed into the last parameter of setBlockState&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-java=&quot;&gt;protected boolean place(ItemPlacementContext context, BlockState state) {
   return context.getWorld().setBlockState(context.getBlockPos(), state, 26);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;after&quot;&gt;After&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;In 1.17 this has been simplified to clearly show the true meaning of this flag.&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-java=&quot;&gt;protected boolean place(ItemPlacementContext context, BlockState state) {
   return context.getWorld().setBlockState(context.getBlockPos(), state, Block.NOTIFY_LISTENERS | Block.REDRAW_ON_MAIN_THREAD | Block.FORCE_STATE);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;names&quot;&gt;Names&lt;/h3&gt;

&lt;p&gt;During the 1.17 snapshot season, some important classes have been renamed in Yarn.&lt;/p&gt;

&lt;p&gt;The most notable instance is the rename of all NBT-related classes thanks to contributor &lt;a href=&quot;https://github.com/LambdAurora&quot;&gt;@LambdAurora&lt;/a&gt;. This is to prevent confusion between the data-driven &lt;a href=&quot;https://minecraft.fandom.com/wiki/Tag&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.minecraft.tag.Tag&lt;/code&gt;s&lt;/a&gt; and NBT tag interface &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net.minecraft.nbt.Tag&lt;/code&gt;, which is now named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NbtElement&lt;/code&gt; instead.&lt;/p&gt;

&lt;p&gt;You can use the automated &lt;a href=&quot;https://fabricmc.net/wiki/tutorial:migratemappings&quot;&gt;migrateMappings&lt;/a&gt; task in Loom to transition to the new names efficiently. Since 1.16.5, there have been over 500 commits to Yarn, all working to improve coverage and quality. Major class renames will be paused when 1.17 is released; these will be done in the 1.18 snapshots instead.&lt;/p&gt;

&lt;h3 id=&quot;documentation&quot;&gt;Documentation&lt;/h3&gt;

&lt;p&gt;Trying to document the Minecraft codebase is a massive job, especially as it is constantly evolving. Improving the documentation provided by Yarn is an ongoing effort by all of the contributors. You can view the online Javadoc for 1.17 pre-release 1 &lt;a href=&quot;https://maven.fabricmc.net/docs/yarn-1.17-pre1+build.1/index.html&quot;&gt;here&lt;/a&gt; or inline with the decompiled and named Minecraft sources directly attached in your IDE.&lt;/p&gt;

&lt;h2 id=&quot;curseforge&quot;&gt;CurseForge&lt;/h2&gt;

&lt;p&gt;CurseForge have recently announced in their &lt;a href=&quot;https://mailchi.mp/844b51b9bdf1/whats-new-with-overwolf-curseforge-may2-edited&quot;&gt;May Updates blog post&lt;/a&gt; that they will be adding native Fabric support to their client. In preparation for this, they have asked all mod developers to ensure that uploaded files are correctly tagged against the relevant mod loader. The linked blog post contains details on how to do this.&lt;/p&gt;</content><author><name></name></author><summary type="html">Minecraft 1.17 has just entered its pre-release cycle meaning that a full stable release is only a few weeks away. When it is released we will have a player-oriented blog post, this post is aimed towards mod developers.</summary></entry><entry><title type="html">Fabric for Minecraft 1.16.2</title><link href="https://fabricmc.net/2020/08/11/1162.html" rel="alternate" type="text/html" title="Fabric for Minecraft 1.16.2" /><published>2020-08-11T00:00:00+00:00</published><updated>2020-08-11T00:00:00+00:00</updated><id>https://fabricmc.net/2020/08/11/1162</id><content type="html" xml:base="https://fabricmc.net/2020/08/11/1162.html">&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/b8LYWAM.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Fabric for Minecraft 1.16.2 has been released! The 1.16.2 update is a larger than expected as it includes new features and major refactors to parts of the code.&lt;/p&gt;

&lt;p&gt;Biomes were at the center of these changes, thus any mod adding biomes may require a significant amount of work to update. Due to these changes, Fabric API’s biome module was removed. We plan to work with mod developers to create an updated biome api as the requirements become clear.&lt;/p&gt;

&lt;p&gt;Due to a number of other smaller changes we expect most mods will require an update to 1.16.2.&lt;/p&gt;

&lt;p&gt;If you want to read more about the 1.16 update please see our &lt;a href=&quot;https://fabricmc.net/2020/06/23/116.html&quot;&gt;Fabric for Minecraft 1.16&lt;/a&gt; blog post. If you wish to discuss the update our &lt;a href=&quot;https://discord.gg/v6v4pMv&quot;&gt;Discord server&lt;/a&gt; is a good place to do so.&lt;/p&gt;

&lt;h2 id=&quot;for-the-mod-developers&quot;&gt;For the mod developers&lt;/h2&gt;

&lt;p&gt;Fabric API has gained a few new features during the last round of snapshots:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A new lifecycle events module:
    &lt;ul&gt;
      &lt;li&gt;This contains new events such as a chunk and world (un)load event for both the client and server.&lt;/li&gt;
      &lt;li&gt;This replaces the old &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fabric-events-lifecycle-v0&lt;/code&gt; module.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;An api to register custom game rules
    &lt;ul&gt;
      &lt;li&gt;Game rules registered using this api appear in the new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Edit Game Rules&lt;/code&gt; screen.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;An api to register additional things to be rendered on an entity
    &lt;ul&gt;
      &lt;li&gt;This makes rendering things like hats on entities much easier to implement.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Many smaller bug fixes and improvements&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html"></summary></entry></feed>