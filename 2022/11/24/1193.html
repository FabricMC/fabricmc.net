<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Fabric for Minecraft 1.19.3 | Fabric</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Fabric for Minecraft 1.19.3" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, Mojang have changed their versioning scheme such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version." />
<meta property="og:description" content="Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, Mojang have changed their versioning scheme such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version." />
<link rel="canonical" href="https://fabricmc.net/2022/11/24/1193.html" />
<meta property="og:url" content="https://fabricmc.net/2022/11/24/1193.html" />
<meta property="og:site_name" content="Fabric" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-24T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Fabric for Minecraft 1.19.3" />
<script type="application/ld+json">
{"headline":"Fabric for Minecraft 1.19.3","dateModified":"2022-11-24T00:00:00+00:00","datePublished":"2022-11-24T00:00:00+00:00","description":"Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, Mojang have changed their versioning scheme such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version.","url":"https://fabricmc.net/2022/11/24/1193.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://fabricmc.net/2022/11/24/1193.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/main.css?v=1758642096">
  <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="/assets/dark.css?v=1758642096"><link type="application/atom+xml" rel="alternate" href="https://fabricmc.net/feed.xml" title="Fabric" /><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon.png">
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><div class="site-header-logo">
      <a class="site-title" rel="author" href="/"><img src="/assets/logo.png" style="image-rendering: pixelated;" width="52" height="56" alt="charset"></img> Fabric</a>
    </div><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
              <a class="page-link" href="/use/installer/">
                Download
              </a>
            
          
            
              <a class="page-link" href="/blog/">
                Blog
              </a>
            
          
            
              <a class="page-link" href="/develop/">
                Develop
              </a>
            
          
            
              <a class="page-link" href="/discuss/">
                Discuss
              </a>
            
          
            
              <a class="page-link" href="https://docs.fabricmc.net/">
                Docs
              </a>
            
          
            
              <a class="page-link" href="https://fabricmc.net/wiki/">
                Wiki
              </a>
            
          
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Fabric for Minecraft 1.19.3</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-11-24T00:00:00+00:00" itemprop="datePublished">Nov 24, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Minecraft 1.19.3 is almost here, with big changes to game internals. Beginning with this update, <a href="https://help.minecraft.net/hc/en-us/articles/9971900758413">Mojang have changed their versioning scheme</a> such that ‘minor’ releases like this one may contain larger changes under the hood. As such, the changes in this version affect almost all mods (not even comparable to the changes in 1.18.2, and significantly bigger than 1.19). Here are the list of all major modder-facing changes in this version.</p>

<p>As usual, we ask players to be patient, and give mod developers time to update to this new version.</p>

<h2 id="fabric-changes">Fabric changes</h2>
<p>Developers should use Loom 1.0 (at the time of writing) to develop for Minecraft 1.19.3.</p>

<p>Minecraft 1.19.3 introduces numerous breaking changes to major developer-facing APIs.</p>

<h3 id="fabric-api-mod-id-change">Fabric API Mod ID change</h3>
<p>The mod ID of Fabric API is now <code class="language-plaintext highlighter-rouge">fabric-api</code>. The old ID <code class="language-plaintext highlighter-rouge">fabric</code> still works in <code class="language-plaintext highlighter-rouge">fabric.mod.json</code>, such as <code class="language-plaintext highlighter-rouge">depends</code>; however, the new ID is recommended for better user experience when Fabric API is missing.</p>

<h3 id="new-fabric-api-features">New Fabric API features</h3>
<p>Fabric API added many features since the last update blog post:</p>

<ul>
  <li>Item API: support stack-aware recipe remainders. (AlphaMode)</li>
  <li>Content Registries: register villager interactions, sculk sensor frequencies, and path node types (aws404, Shnupbups, devpelux)</li>
  <li>Client Tags: allow client-side mods to rely on tags not present on the server. (dexman545)</li>
  <li>Entity Events: add <code class="language-plaintext highlighter-rouge">AFTER_DEATH</code>, <code class="language-plaintext highlighter-rouge">AFTER_DAMAGE</code>, and <code class="language-plaintext highlighter-rouge">ALLOW_DEATH</code> events. (Technici4n)</li>
  <li>Resource Conditions: support all tags. (apple502j)</li>
  <li>Sound API: play custom sounds. (SquidDev)</li>
  <li>Resource Loader: support <code class="language-plaintext highlighter-rouge">Text</code> as pack display name. (apple502j)</li>
  <li>Block Appearance API: groundwork for cross-mod connected textures. (Technici4n)</li>
  <li><code class="language-plaintext highlighter-rouge">FabricLanguageProvider</code>: easily generate language JSON files with data generation. (mineblock11)</li>
  <li>Overwriting Screen Handler Factory: open new screen handlers without re-centering the mouse pointer. (apple502j)</li>
  <li>Transfer API: add several helper APIs for fluid interactions and storage. (Technici4n)</li>
</ul>

<h2 id="minecraft-changes">Minecraft changes</h2>

<h3 id="registries">Registries</h3>

<p>There are several changes to registries.</p>

<p>The most impactful change is that <strong>the <code class="language-plaintext highlighter-rouge">Registry</code> class is now split into 3 different classes</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">RegistryKeys</code> holds the <code class="language-plaintext highlighter-rouge">RegistryKey</code> instances used for registries, previously held in <code class="language-plaintext highlighter-rouge">Registry</code>’s <code class="language-plaintext highlighter-rouge">static final</code> fields.</li>
  <li><code class="language-plaintext highlighter-rouge">Registries</code> holds all static registry instances.</li>
  <li><code class="language-plaintext highlighter-rouge">Registry</code> is now an interface and holds everything else.</li>
</ul>

<p>Together with this change, the <code class="language-plaintext highlighter-rouge">KEY</code> suffixes for registry key fields have been removed.</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- Registry.register(Registry.BLOCK_KEY, new Identifier("test", "dirt"), DIRT_BLOCK);
</span><span class="gi">+ Registry.register(Registries.BLOCK, new Identifier("test", "dirt"), DIRT_BLOCK);
</span></code></pre></div></div>

<p>In many parts of the code, <code class="language-plaintext highlighter-rouge">Registry</code>  is now replaced with <code class="language-plaintext highlighter-rouge">RegistryEntryLookup</code> or <code class="language-plaintext highlighter-rouge">Registerable</code>. <code class="language-plaintext highlighter-rouge">RegistryEntryLookup</code> is a read-only view of a registry, while <code class="language-plaintext highlighter-rouge">Registerable</code> is a write-only view. The <code class="language-plaintext highlighter-rouge">BuiltinRegistries</code> class no longer holds the built-in registry; it instead holds the builder to create a <code class="language-plaintext highlighter-rouge">RegistryEntryLookup.RegistryLookup</code> (a lookup of registry lookups, similar to <code class="language-plaintext highlighter-rouge">DynamicRegistryManager</code>). See below for migrating old worldgen code.</p>

<p>Since virtually all registry-related code needs a rewrite, Yarn used this opportunity to <strong>repackage the registry and tag packages</strong> under <code class="language-plaintext highlighter-rouge">net.minecraft.registry</code> and <code class="language-plaintext highlighter-rouge">net.minecraft.registry.tag</code> respectively. Note, if you are using Mojang Mappings or other third-party mappings, this does not affect you. A simple find-and-replace should be enough:</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- import net.minecraft.tag.TagKey;
- import net.minecraft.util.registry.Registry;
- import net.minecraft.util.registry.RegistryEntry;
</span><span class="gi">+ import net.minecraft.registry.tag.TagKey;
+ import net.minecraft.registry.Registry;
+ import net.minecraft.registry.entry.RegistryEntry;
</span></code></pre></div></div>

<p>Fabric API’s <code class="language-plaintext highlighter-rouge">DynamicRegistrySetupCallback</code> was changed to take a new context object <code class="language-plaintext highlighter-rouge">DynamicRegistryView</code> instead of a <code class="language-plaintext highlighter-rouge">DynamicRegistryManager</code>. This API allows easy registration of events, while preventing crashes caused by the misuse of previous API.</p>

<h3 id="item-groups">Item Groups</h3>
<p>One of the major changes in this version involve the Creative inventory screen. Items can now appear in multiple tabs and the display order no longer relies on the item registration order. Item groups got a significant refactor during this process.</p>

<p>The <code class="language-plaintext highlighter-rouge">fabric-item-groups-v0</code> module is replaced with <code class="language-plaintext highlighter-rouge">fabric-item-group-api-v1</code>. This is now required for adding items to vanilla item groups; you can no longer specify the item group using <code class="language-plaintext highlighter-rouge">Item.Settings</code>.</p>

<p>To add an item to a vanilla or other existing item group, use <code class="language-plaintext highlighter-rouge">ItemGroupEvents</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1.19.2</span>
<span class="nc">Item</span> <span class="no">MY_ITEM</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Item</span><span class="o">(</span><span class="k">new</span> <span class="nc">Item</span><span class="o">.</span><span class="na">Settings</span><span class="o">().</span><span class="na">group</span><span class="o">(</span><span class="nc">ItemGroup</span><span class="o">.</span><span class="na">MISC</span><span class="o">));</span>

<span class="c1">// 1.19.3</span>
<span class="nc">ItemGroupEvents</span><span class="o">.</span><span class="na">modifyEntriesEvent</span><span class="o">(</span><span class="nc">ItemGroups</span><span class="o">.</span><span class="na">INGREDIENTS</span><span class="o">).</span><span class="na">register</span><span class="o">(</span><span class="n">entries</span> <span class="o">-&gt;</span> <span class="n">entries</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="no">MY_ITEM</span><span class="o">));</span>
<span class="c1">// Instead of ItemGroup, you can also specify an Identifier for modded item groups.</span>
</code></pre></div></div>

<p>To create a new item group, use <code class="language-plaintext highlighter-rouge">FabricItemGroup.builder()</code>. This allows adding items directly, without using <code class="language-plaintext highlighter-rouge">ItemGroupEvents</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ItemGroup</span> <span class="no">ITEM_GROUP</span> <span class="o">=</span> <span class="nc">FabricItemGroup</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="k">new</span> <span class="nc">Identifier</span><span class="o">(</span><span class="s">"example"</span><span class="o">,</span> <span class="s">"test_group"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">displayName</span><span class="o">(</span><span class="nc">Text</span><span class="o">.</span><span class="na">literal</span><span class="o">(</span><span class="s">"Example Item Group"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">icon</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ItemStack</span><span class="o">(</span><span class="nc">Items</span><span class="o">.</span><span class="na">DIAMOND</span><span class="o">))</span>
    <span class="o">.</span><span class="na">entries</span><span class="o">((</span><span class="n">enabledFeatures</span><span class="o">,</span> <span class="n">entries</span><span class="o">,</span> <span class="n">operatorEnabled</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">entries</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Items</span><span class="o">.</span><span class="na">DIAMOND</span><span class="o">);</span>
    <span class="o">})</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>The changes also made it possible to add items at a specific position in the Creative inventory. Check the <a href="https://maven.fabricmc.net/docs/fabric-api-0.68.1+1.19.3/net/fabricmc/fabric/api/itemgroup/v1/FabricItemGroupEntries.html">FabricItemGroupEntries javadoc</a> for details.</p>

<!-- TODO update link after the FAPI release -->

<h3 id="data-generation">Data generation</h3>
<p>A number of breaking changes have been made to the Data Generation API.</p>

<p>Data generators now have to create a “pack” and add providers to the pack. (It’s like a resource pack - the provider generates a resource for a specific pack.) This can be done with <code class="language-plaintext highlighter-rouge">FabricDataGenerator#createPack</code>, or <code class="language-plaintext highlighter-rouge">createBuiltinResourcePack</code> for packs loadable by <code class="language-plaintext highlighter-rouge">ResouceManagerHelper#registerBuiltinResourcePack</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">FabricDataGenerator</span><span class="o">.</span><span class="na">Pack</span> <span class="n">pack</span> <span class="o">=</span> <span class="n">dataGenerator</span><span class="o">.</span><span class="na">createPack</span><span class="o">();</span>
<span class="n">pack</span><span class="o">.</span><span class="na">addProvider</span><span class="o">(</span><span class="nl">YourProvider:</span><span class="o">:</span><span class="k">new</span><span class="o">);</span>
</code></pre></div></div>

<p>Data generator constructors now take <code class="language-plaintext highlighter-rouge">FabricDataOutput</code> as an argument instead of <code class="language-plaintext highlighter-rouge">DataGenerator</code>. <code class="language-plaintext highlighter-rouge">generateStuff</code> methods (e.g. <code class="language-plaintext highlighter-rouge">generateBlockLootTables</code>) are now provided from the vanilla game and renamed to <code class="language-plaintext highlighter-rouge">generate</code>. They are also now public, not protected.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestBlockLootTableProvider</span> <span class="kd">extends</span> <span class="nc">FabricBlockLootTableProvider</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">TestBlockLootTableProvider</span><span class="o">(</span><span class="nc">FabricDataGenerator</span> <span class="n">dataGenerator</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">dataGenerator</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="c1">// Renamed from generateBlockLootTables and now public</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">generate</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">addDrop</span><span class="o">(</span><span class="no">SIMPLE_BLOCK</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>For tag generators, the constructor must also take <code class="language-plaintext highlighter-rouge">CompletableFuture&lt;RegistryWrapper.WrapperLookup&gt;</code>. <code class="language-plaintext highlighter-rouge">FabricTagProvider.DynamicRegistryTagProvider</code> is now replaced with just <code class="language-plaintext highlighter-rouge">FabricTagProvider</code>. The <code class="language-plaintext highlighter-rouge">configure</code> method is used to add tags.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestBiomeTagProvider</span> <span class="kd">extends</span> <span class="nc">FabricTagProvider</span><span class="o">&lt;</span><span class="nc">Biome</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">TestBiomeTagProvider</span><span class="o">(</span><span class="nc">FabricDataOutput</span> <span class="n">output</span><span class="o">,</span> <span class="nc">CompletableFuture</span><span class="o">&lt;</span><span class="nc">RegistryWrapper</span><span class="o">.</span><span class="na">WrapperLookup</span><span class="o">&gt;</span> <span class="n">registriesFuture</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">output</span><span class="o">,</span> <span class="nc">RegistryKeys</span><span class="o">.</span><span class="na">BIOME</span><span class="o">,</span> <span class="n">registriesFuture</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">RegistryWrapper</span><span class="o">.</span><span class="na">WrapperLookup</span> <span class="n">registries</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">getOrCreateTagBuilder</span><span class="o">(</span><span class="nc">TagKey</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">RegistryKeys</span><span class="o">.</span><span class="na">BIOME</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Identifier</span><span class="o">(</span><span class="no">MOD_ID</span><span class="o">,</span> <span class="s">"example"</span><span class="o">)))</span>
        <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">BiomeKeys</span><span class="o">.</span><span class="na">BADLANDS</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="custom-world-generation">Custom world generation</h3>
<p>In the registry section we briefly mentioned that <code class="language-plaintext highlighter-rouge">BuiltinRegistries</code> no longer holds the actual registries; more specifically, <code class="language-plaintext highlighter-rouge">BuiltinRegistries</code> is no longer used during actual world generation. If your biome mod, structure mod, 1.19 message type mod etc. registers stuff into <code class="language-plaintext highlighter-rouge">BuiltinRegistries</code>, you now need to generate its JSON and include it in the mod as a data pack.</p>

<p>You can override the new <code class="language-plaintext highlighter-rouge">DataGeneratorEntrypoint.buildRegistry(RegistryBuilder registryBuilder)</code> in your data gen entrypoint to add your modded entries the registry used for datageneration. <code class="language-plaintext highlighter-rouge">buildRegistry</code> is invoked asynchronously and the resulting <code class="language-plaintext highlighter-rouge">RegistryWrapper.WrapperLookup</code> can be passed to your data providers using a <code class="language-plaintext highlighter-rouge">CompletableFuture</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">DataGeneratorEntrypoint</span> <span class="kd">implements</span> <span class="n">net</span><span class="o">.</span><span class="na">fabricmc</span><span class="o">.</span><span class="na">fabric</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">datagen</span><span class="o">.</span><span class="na">v1</span><span class="o">.</span><span class="na">DataGeneratorEntrypoint</span> <span class="o">{</span>
	<span class="c1">// onInitializeDataGenerator goes here</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">buildRegistry</span><span class="o">(</span><span class="nc">RegistryBuilder</span> <span class="n">registryBuilder</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">registryBuilder</span><span class="o">.</span><span class="na">addRegistry</span><span class="o">(</span><span class="nc">RegistryKeys</span><span class="o">.</span><span class="na">BIOME</span><span class="o">,</span> <span class="nl">ExampleBiomes:</span><span class="o">:</span><span class="n">bootstrap</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Minecraft's BuiltinBiomes class is another good example.</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">ExampleBiomes</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">RegistryKey</span><span class="o">&lt;</span><span class="nc">Biome</span><span class="o">&gt;</span> <span class="no">MODDED_BIOME_KEY</span> <span class="o">=</span> <span class="nc">RegistryKey</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">RegistryKeys</span><span class="o">.</span><span class="na">BIOME</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Identifier</span><span class="o">(</span><span class="s">"modid"</span><span class="o">,</span> <span class="s">"biome_name"</span><span class="o">));</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">bootstrap</span><span class="o">(</span><span class="nc">Registerable</span><span class="o">&lt;</span><span class="nc">Biome</span><span class="o">&gt;</span> <span class="n">biomeRegisterable</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">biomeRegisterable</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="no">MODDED_BIOME_KEY</span><span class="o">,</span> <span class="n">createBiome</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>A new data generator, <code class="language-plaintext highlighter-rouge">FabricDynamicRegistryGenerator</code>, allows generating the JSON files from the previously-registered objects.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">WorldgenProvider</span> <span class="kd">extends</span> <span class="nc">FabricDynamicRegistryProvider</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">WorldgenProvider</span><span class="o">(</span><span class="nc">FabricDataOutput</span> <span class="n">output</span><span class="o">,</span> <span class="nc">CompletableFuture</span><span class="o">&lt;</span><span class="nc">RegistryWrapper</span><span class="o">.</span><span class="na">WrapperLookup</span><span class="o">&gt;</span> <span class="n">registriesFuture</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">output</span><span class="o">,</span> <span class="n">registriesFuture</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">RegistryWrapper</span><span class="o">.</span><span class="na">WrapperLookup</span> <span class="n">registries</span><span class="o">,</span> <span class="nc">Entries</span> <span class="n">entries</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="nc">RegistryWrapper</span><span class="o">.</span><span class="na">Impl</span><span class="o">&lt;</span><span class="nc">Biome</span><span class="o">&gt;</span> <span class="n">biomeRegistry</span> <span class="o">=</span> <span class="n">registries</span><span class="o">.</span><span class="na">getWrapperOrThrow</span><span class="o">(</span><span class="nc">RegistryKeys</span><span class="o">.</span><span class="na">BIOME</span><span class="o">);</span>

        <span class="n">entries</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">ExampleBiomes</span><span class="o">.</span><span class="na">MODDED_BIOME_KEY</span><span class="o">,</span> <span class="n">biomeRegistry</span><span class="o">.</span><span class="na">getOrThrow</span><span class="o">(</span><span class="nc">ExampleBiomes</span><span class="o">.</span><span class="na">MODDED_BIOME_KEY</span><span class="o">).</span><span class="na">value</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="textures">Textures</h3>
<p>The performance optimizations in 1.19.3 include texture loading changes. By default, textures used in a certain atlas (such as block texture atlas) must now be in the folder for the type of the atlas (such as <code class="language-plaintext highlighter-rouge">textures/block</code>). This affects some resource packs, which might be bundled in a mod.</p>

<p>To use custom textures located elsewhere, an atlas configuration file should be added to the resource pack. See the <a href="https://www.minecraft.net/en-us/article/minecraft-snapshot-22w46a">22w46a update blogpost</a> for more details.</p>

<p>Fabric Textures API is removed entirely; <code class="language-plaintext highlighter-rouge">ClientSpriteRegistryCallback</code> is replaced with atlas configuration files, and <code class="language-plaintext highlighter-rouge">DependentSprite</code> was practically unused.</p>

<h3 id="resource-loading">Resource loading</h3>
<p>There are many refactors to resource loading, such as using a custom filesystem to improve performance. However they should not affect most mods.</p>

<p>One change made in the refactor is that resource packs now allow <code class="language-plaintext highlighter-rouge">Text</code> to be used as the display name. With this change,<code class="language-plaintext highlighter-rouge">ResourceManagerHelper#registerBuiltinResourcePack</code> method can now take <code class="language-plaintext highlighter-rouge">Text</code>. The old <code class="language-plaintext highlighter-rouge">String</code> based method is now deprecated; use <code class="language-plaintext highlighter-rouge">Text#literal</code> for a hard-coded name.</p>

<p>Mods that support additional resource types should now use <code class="language-plaintext highlighter-rouge">ResourceFinder</code>. This, when given a resource manager, returns the map of IDs to <code class="language-plaintext highlighter-rouge">Resource</code>s.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">ResourceFinder</span> <span class="no">JSON_FINDER</span> <span class="o">=</span> <span class="nc">ResourceFinder</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="s">"tiny_potatoes"</span><span class="o">);</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">ResourceFinder</span> <span class="no">PNG_FINDER</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ResourceFinder</span><span class="o">(</span><span class="s">"tiny_potatoes"</span><span class="o">,</span> <span class="s">".png"</span><span class="o">);</span>

<span class="c1">// to use:</span>
<span class="no">JSON_FINDER</span><span class="o">.</span><span class="na">findResources</span><span class="o">(</span><span class="n">resourceManager</span><span class="o">).</span><span class="na">forEach</span><span class="o">((</span><span class="n">id</span><span class="o">,</span> <span class="n">resource</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{});</span>
</code></pre></div></div>

<h3 id="command-changes">Command changes</h3>
<p>Several command argument types are removed and consolidated. They include: <code class="language-plaintext highlighter-rouge">EnchantmentArgumentType</code>, <code class="language-plaintext highlighter-rouge">EntitySummonArgumentType</code>, and <code class="language-plaintext highlighter-rouge">StatusEffectArgumentType</code>. There are 2 new argument types that replace those.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">RegistryEntryArgumentType</code>, which is an argument type of <code class="language-plaintext highlighter-rouge">RegistryEntry&lt;T&gt;</code></li>
  <li><code class="language-plaintext highlighter-rouge">RegistryEntryPredicateArgumentType</code>, which works like <code class="language-plaintext highlighter-rouge">RegistryPredicateArgumentType</code> but the entry is either named <code class="language-plaintext highlighter-rouge">RegistryEntryList</code> (tags) or <code class="language-plaintext highlighter-rouge">RegistryEntry</code> (one entry)</li>
</ul>

<h3 id="move-to-joml">Move to JOML</h3>
<p>Mojang has started using the JOML library for rendering-related math. <code class="language-plaintext highlighter-rouge">Vec3f</code> is now replaced with JOML <code class="language-plaintext highlighter-rouge">Vector3f</code>. Many of the functions have slightly different names. For example:</p>
<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- import net.minecraft.util.math.Vec3f;
</span><span class="gi">+ import org.joml.Vector3f;
</span>
- Vector3f vec;
<span class="gd">- float x = vec.getX();
</span><span class="gi">+ Vec3f vec;
+ float x = vec.x();
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Vec3d</code> and <code class="language-plaintext highlighter-rouge">Vec3i</code> are unaffected.</p>

<h3 id="sounds">Sounds</h3>
<p>During the pre-release phase of 1.19.3, there were changes to how sounds are referenced and played.</p>

<ul>
  <li>Introduction: there are two ways a sound is referred to - “sound asset” defined by the client and identified by sound ID, and “sound event” used by the server and registered in a registry.</li>
  <li>Previously, to play a registered sound event, <code class="language-plaintext highlighter-rouge">PlaySoundS2CPacket</code> was used, and to play a custom (resource pack-defined) sound, <code class="language-plaintext highlighter-rouge">PlaySoundIdS2CPacket</code> was used.</li>
  <li>References to <code class="language-plaintext highlighter-rouge">SoundEvent</code> are mostly replaced with <code class="language-plaintext highlighter-rouge">Registry&lt;SoundEvent&gt;</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">SoundEvent</code> should now be constructed using <code class="language-plaintext highlighter-rouge">SoundEvent.of</code>, which is transitively access-widened by Fabric API.</li>
  <li><code class="language-plaintext highlighter-rouge">PlaySoundIdS2CPacket</code> was removed. To play a custom sound, use direct registry entry (<code class="language-plaintext highlighter-rouge">RegistryEntry.of(SoundEvent)</code>).</li>
  <li>Biome Modification API received a breaking change to accept <code class="language-plaintext highlighter-rouge">RegistryEntry&lt;SoundEvent&gt;</code> instead of <code class="language-plaintext highlighter-rouge">SoundEvent</code>.</li>
</ul>

<h3 id="other-changes">Other changes</h3>
<p>Here are other miscellaneous changes in 1.19.3:</p>

<ul>
  <li>Feature flags were introduced. Currently, blocks, items, and entity types can be hidden behind a flag. “Experimental” features that aren’t enabled by a feature flag are still registered in a registry, but are ignored in most methods. Resource Condition API can now check feature flags.</li>
  <li>For those who use the vanilla system for GUIs (instead of third-party APIs): a new grid-based GUI system is added. This can be used in place of the old way of positioning widgets, and reduces the need for hard-coded display positions.</li>
  <li><code class="language-plaintext highlighter-rouge">ButtonWidget</code> is now constructed using a builder.</li>
  <li>Tooltips got a refactor to support item group related changes. <code class="language-plaintext highlighter-rouge">Screen#setTooltip</code> methods are added; there are three overloads. They all have to be called at every render call. <code class="language-plaintext highlighter-rouge">setTooltip</code> method is also available for <code class="language-plaintext highlighter-rouge">ClickableWidget</code> and <code class="language-plaintext highlighter-rouge">ButtonWidget.Builder</code>.</li>
  <li>Networking changes: chat preview was removed, and the game no longer requires a header packet to be sent when blocking messages. The client-side <code class="language-plaintext highlighter-rouge">sendChatMessage</code> and <code class="language-plaintext highlighter-rouge">sendCommand</code> methods have been moved from <code class="language-plaintext highlighter-rouge">ClientPlayerEntity</code> to <code class="language-plaintext highlighter-rouge">ClientPlayNetworkHandler</code>.</li>
  <li>Mobs using <code class="language-plaintext highlighter-rouge">Brain</code> for control can now take advantage of functional <code class="language-plaintext highlighter-rouge">Task</code> creation. This resembles React Hooks and is replacing the previous subclass-based approach in vanilla. See <a href="https://maven.fabricmc.net/docs/yarn-1.19.3-rc1+build.2/net/minecraft/entity/ai/brain/task/TaskTriggerer.html">javadoc</a> for examples. <!-- TODO replace link --></li>
  <li><code class="language-plaintext highlighter-rouge">ItemStack#isItemEqualIgnoreDamage</code> and <code class="language-plaintext highlighter-rouge">ItemStack#areItemsEqualIgnoreDamage</code> were removed. Either use standard <code class="language-plaintext highlighter-rouge">isItemEqual</code>/<code class="language-plaintext highlighter-rouge">areItemsEqual</code> or compare yourself.</li>
  <li><code class="language-plaintext highlighter-rouge">JsonHelper#deserialize</code> no longer permits <code class="language-plaintext highlighter-rouge">null</code>. Use <code class="language-plaintext highlighter-rouge">deserializeNullable</code> instead.</li>
</ul>

<h3 id="yarn-renames">Yarn renames</h3>
<p><em>If you are using Mojang Mappings or other third-party mappings, you can skip this section.</em></p>

<p>There are dozens of renames to fix wrong names and improve code readability. Here are some of the major renames:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">createAndScheduleBlockTick</code>/<code class="language-plaintext highlighter-rouge">createAndScheduleFluidTick</code> is now simply<code class="language-plaintext highlighter-rouge">scheduleBlockTick</code>/<code class="language-plaintext highlighter-rouge">scheduleFluidTick</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">OreBlock</code> is renamed to <code class="language-plaintext highlighter-rouge">ExperienceDroppingBlock</code> as it is used by a Sculk block.</li>
  <li><code class="language-plaintext highlighter-rouge">WallStandingBlockItem</code> is renamed to <code class="language-plaintext highlighter-rouge">VerticallyAttachableBlockItem</code> because it can now be used for hanging blocks as well.</li>
  <li><code class="language-plaintext highlighter-rouge">AbstractButtonBlock</code> is renamed to ButtonBlock as it is no longer <code class="language-plaintext highlighter-rouge">abstract</code></li>
  <li><code class="language-plaintext highlighter-rouge">ScreenHandler#transferSlot</code> is renamed to <code class="language-plaintext highlighter-rouge">quickMove</code> to be more descriptive.</li>
  <li>Shaders and programs were renamed. A program is composed of vertex and fragment shaders; this was previously swapped. See <a href="https://github.com/FabricMC/yarn/pull/3384">the pull request</a> for details.</li>
</ul>

  </div><a class="u-url" href="/2022/11/24/1193.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <p>
      The contents of this website, unless otherwise indicated, are licensed under a <a rel="license"
        href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike
        4.0 International License</a>.
    </p>

    <p style="font-size: 10px;">
      NOT AN OFFICIAL MINECRAFT PRODUCT. NOT APPROVED BY OR ASSOCIATED WITH MOJANG.
    </p>

  </div>

</footer></body>

</html>
